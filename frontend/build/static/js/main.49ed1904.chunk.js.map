{"version":3,"sources":["context/Modal.js","store/csrf.js","store/session.js","components/Navigation/ProfileButton.js","store/view.js","components/Navigation/SearchButton.js","components/FormInput/index.js","components/LoginFormModal/LoginForm.js","components/LoginFormModal/index.js","components/ImageCropper/cropImage.js","components/ImageCropper/ImageCropper.js","components/ImageCropper/ImageInput.js","components/SignupFormPage/SignupForm.js","components/SignupFormPage/index.js","components/Navigation/index.js","store/event.js","components/EventCard/index.js","components/Footer/index.js","components/EventDisplay/index.js","components/TicketItem/index.js","components/EventDetails/index.js","components/NewEventForm/index.js","components/CategoryBar/index.js","App.js","store/index.js","index.js"],"names":["ModalContext","React","createContext","ModalProvider","children","modalRef","useRef","useState","value","setValue","useEffect","current","Provider","ref","Modal","onClose","modalNode","useContext","ReactDOM","createPortal","id","onClick","fetch","url","a","options","headers","method","toUpperCase","Cookies","get","window","res","contentType","includes","json","data","status","SET_USER","REMOVE_USER","setUser","user","type","payload","login","dispatch","credential","password","body","JSON","stringify","initialState","sessionReducer","newState","state","action","Object","assign","ProfileButton","useDispatch","showMenu","setShowMenu","sessionUser","useSelector","session","closeMenu","document","addEventListener","removeEventListener","e","className","profilePicURL","src","alt","icon","faUserCircle","username","email","to","preventDefault","SET_VIEW","CLEAR_VIEW","changeView","newView","SearchField","searchValue","setSearchValue","searchRef","focus","placeholder","onChange","target","SearchButton","showSearchBar","setShowSearchBar","closeSearch","stopPropagation","FormInput","name","required","focused","setFocused","querySelector","parentElement","onFocus","wrapper","classList","add","onBlur","remove","LoginForm","setCredential","setPassword","errors","setErrors","style","fontFamily","length","map","error","idx","sessionActions","catch","LoginFormModal","showModal","setShowModal","createImage","Promise","resolve","reject","image","Image","setAttribute","getCroppedImg","imageSrc","crop","width","height","canvas","createElement","ctx","getContext","drawImage","x","y","toBlob","blob","ImageCropper","getBlob","inputImg","aspect","setCrop","zoom","setZoom","onCropComplete","_","croppedAreaPixels","croppedImage","onCropChange","onZoomChange","ImageInput","setBlob","setInputImg","accept","file","files","reader","FileReader","result","readAsDataURL","SignupForm","firstName","setFirstName","lastName","setLastName","setEmail","setUsername","confirmPassword","setConfirmPassword","profilePic","setProfilePic","setSending","newErrors","push","formData","FormData","append","config","axios","post","then","err","response","statusText","SignupFormModal","Navigation","sessionLinks","isLoaded","history","useHistory","ADD_EVENTS","SET_EVENTS","CLEAR_EVENTS","addEvents","events","clearEvents","loadMoreEvents","start","amount","view","startsWith","categoryId","slice","searchQuery","encodeURI","createNewEvent","event","title","summary","organizer","about","eventPic","tickets","Axios","TicketItem","ticket","EventCard","eventPicURL","reduce","acc","quantity","sold","left","avail","Footer","fontWeight","rel","href","connect","isLoading","setIsLoaded","viewName","setViewName","changeViewName","searchParam","getMoreEvents","getEvent","isSoldOut","registerUser","successEl","setTimeout","display","justifyContent","alignItems","EventDetails","useParams","setEvent","fontSize","NewEventForm","setTitle","setSummary","setAbout","setEventPic","setTickets","ticketType","setTicketType","ticketQty","setTicketQty","sending","step","setStep","handleSubmit","EventDetailsForm","rows","cols","replace","disabled","formSteps","onSubmit","removeTicket","getFontColor","backgroundColor","color","hex","exec","r","parseInt","g","b","hexToRgb","tracker","key","c","Math","pow","Category","fontColor","CategoryBar","categories","setCategories","catLoaded","setCatLoaded","categoriesJSON","category","App","enhancer","path","render","rootReducer","combineReducers","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","Root","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.49ed1904.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect, useContext } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './Modal.css'\n\nconst ModalContext = React.createContext()\n\nexport function ModalProvider({ children }) {\n  const modalRef = useRef()\n\n  const [value, setValue] = useState()\n\n  useEffect(() => {\n    setValue(modalRef.current)\n  }, [])\n\n  return (\n    <>\n      <ModalContext.Provider value={value}>\n        {children}\n      </ModalContext.Provider>\n      <div ref={modalRef} />\n    </>\n  )\n}\n\nexport function Modal({ onClose, children }) {\n  const modalNode = useContext(ModalContext)\n\n  if (!modalNode) return null\n\n  return ReactDOM.createPortal(\n    <div id='modal'>\n      <div id='modal-background' onClick={onClose} />\n      <div id='modal-content'>\n        {children}\n      </div>\n    </div>,\n    modalNode\n  )\n}\n","import Cookies from 'js-cookie';\n\n\n//\n// ─── FETCH FUNCTION ─────────────────────────────────────────────────────────────\n//\n// Creates a fetch function that is wrapped in the window global object in order\n// to set an XSRF-TOKEN header on the fetch call\n\n\nexport async function fetch(url, options={}) {\n  options.headers = options.headers || {};\n\n  options.method = options.method || 'GET'\n\n  if (options.method.toUpperCase() !== 'GET') {\n    options.headers['XSRF-TOKEN'] = Cookies.get('XSRF-TOKEN')\n    options.headers['Content-Type'] =\n      options.headers['Content-Type'] || 'application/json'\n  }\n\n  const res = await window.fetch(url, options);\n\n  const contentType = res.headers.get('content-type');\n  if (contentType && contentType.includes('application/json')) {\n    const data = await res.json();\n    res.data = data\n  }\n\n  if (res.status >= 400) throw res;\n\n  return res;\n}\n\n//\n// ─── RESTORE CSRF ───────────────────────────────────────────────────────────────\n//\n// Makes a call to the API backend in development for the XSRF-TOKEN\n\nexport function restoreCSRF() {\n  return fetch('/api/csrf/restore')\n}\n","import axios from 'axios'\n\nimport { fetch } from './csrf'\n\nconst SET_USER = 'session/setUser'\nconst REMOVE_USER = 'session/removeUser'\n\nconst setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n})\n\nconst endSession = () => ({\n  type: REMOVE_USER\n})\n\nexport const login = (user) => {\n  return async dispatch => {\n    const { credential, password } = user;\n\n    const method = 'POST'\n    const body = {\n      credential,\n      password\n    }\n\n    const res = await fetch('/api/session', { method, body: JSON.stringify(body) })\n\n    dispatch(setUser(res.data.user))\n\n    return res\n  }\n}\n\nexport const restoreUser = () => {\n  return async dispatch => {\n    const res = await fetch('/api/session')\n\n    dispatch(setUser(res.data.user))\n\n    return res\n  }\n}\n\nexport const signup = (user) => {\n  return async dispatch => {\n    const { profilePic, firstName, lastName, username, password, email } = user;\n    const formData = new FormData();\n    formData.append('firstName', firstName)\n    formData.append('lastName', lastName)\n    formData.append('username', username)\n    formData.append('password', password)\n    formData.append('email', email)\n    if (profilePic) {\n      formData.append('profilePic', profilePic)\n    }\n\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    }\n\n    return axios.post('/api/users/', formData, config)\n      .then(res => {\n        const user = res.data;\n        return dispatch(setUser(user))\n      })\n      .catch((err) => {\n        return err.response\n      })\n  }\n}\n\n\nexport const logout = () => {\n  return async dispatch => {\n    const res = await fetch('/api/session', {\n      method: 'DELETE'\n    })\n\n    dispatch(endSession())\n  }\n}\n\n\nlet initialState = { user: null }\n\nfunction sessionReducer(state = initialState, action) {\n  let newState;\n  switch (action.type) {\n\n    case SET_USER:\n      newState = Object.assign({}, state)\n      newState.user = action.payload\n      return newState\n\n    case REMOVE_USER:\n      newState = Object.assign({}, state)\n      newState.user = null\n      return newState\n\n    default:\n      return state\n  }\n}\n\nexport default sessionReducer\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Link } from 'react-router-dom'\n\nimport { logout } from '../../store/session'\n\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport default function ProfileButton() {\n  const dispatch = useDispatch()\n  const [showMenu, setShowMenu] = useState(false)\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  const openMenu = (e) => {\n    if (!showMenu) {\n      setShowMenu(true)\n    }\n  }\n\n  useEffect(() => {\n    if (!showMenu) return\n\n    const closeMenu = () => {\n      setShowMenu(false)\n    }\n\n    document.addEventListener('click', closeMenu)\n\n    return () => {\n      document.removeEventListener('click', closeMenu)\n    }\n  }, [showMenu])\n\n  const handleLogout = (e) => {\n    e.preventDefault()\n    dispatch(logout())\n  }\n\n  return (\n    <>\n      <div onClick={openMenu} className=\"navbar__user-container\">\n        <div className=\"navbar__user-container-dropdown\">\n          <i className=\"fas fa-caret-down\"></i>\n        </div>\n        {sessionUser.profilePicURL && (<img className=\"navbar__profile-icon\" src={sessionUser.profilePicURL} alt=\"\" />)}\n        {!sessionUser.profilePicURL && <FontAwesomeIcon icon={faUserCircle} className=\"navbar__profile-icon\" />}\n\n        <div className={`navbar__profile-dropdown ${showMenu ? \"navbar__profile-dropdown--shown\" : \"navbar__profile-dropdown--hidden\"}`}>\n          <div className=\"navbar__dropdown-user-info\">\n            <div className=\"navbar__dropdown-text\">{sessionUser.username}</div>\n            <div className=\"navbar__dropdown-text\">{sessionUser.email}</div>\n          </div>\n          <div className=\"navbar__dropdown-links\">\n            <Link className='navbar__dropdown-link' to=\"/new-event\">Create A New Event</Link>\n            <Link className='navbar__dropdown-link' to=\"/my-events\">My Events</Link>\n            <Link className='navbar__dropdown-link' to=\"/my-tickets\">My Tickets</Link>\n            <div className='navbar__dropdown-link' onClick={handleLogout}>Log Out</div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","const SET_VIEW = 'view/setView'\nconst CLEAR_VIEW = 'view/clearView'\n\nconst _setView = (view) => ({\n  type: SET_VIEW,\n  payload: view\n})\n\nconst _clearView = () => ({\n  type: CLEAR_VIEW\n})\n\nexport const changeView = (newView) => {\n  return dispatch => {\n    return dispatch(_setView(newView))\n  }\n}\n\nexport const clearView = () => {\n  return dispatch => {\n    return dispatch(_clearView())\n  }\n}\n\nexport default (state = null, { type, payload }) => {\n  switch (type) {\n\n    case SET_VIEW:\n      return payload\n\n    case CLEAR_VIEW:\n      return null\n\n    default:\n      return state\n  }\n}\n","import React, { useState, useEffect, useRef } from 'react'\n\nimport { useDispatch } from 'react-redux'\n\nimport { changeView } from '../../store/view'\n\nfunction SearchField({ searchValue, setSearchValue }) {\n  const searchRef = useRef(null)\n\n  useEffect(() => {\n    searchRef.current.focus()\n  }, [])\n\n  return (\n    <input ref={searchRef} type='text' placeholder=\"Search for event titles\" value={searchValue} onChange={(e) => setSearchValue(e.target.value)} />\n  )\n}\n\n\nexport default function SearchButton() {\n  const dispatch = useDispatch()\n\n  const [showSearchBar, setShowSearchBar] = useState(false)\n  const [searchValue, setSearchValue] = useState('')\n\n  const openSearch = (e) => {\n    e.stopPropagation();\n    setSearchValue('')\n    if (!showSearchBar) {\n      setShowSearchBar(true)\n    }\n  }\n\n  useEffect(() => {\n    if (searchValue) {\n      dispatch(changeView(`SEARCH:${searchValue}`))\n    } else {\n      dispatch(changeView(null))\n    }\n  }, [searchValue])\n\n  useEffect(() => {\n    if (!showSearchBar) return\n\n\n    const closeSearch = (e) => {\n      setShowSearchBar(false)\n    }\n\n    document.addEventListener('click', closeSearch)\n\n    return () => {\n      document.removeEventListener('click', closeSearch)\n    }\n  }, [showSearchBar])\n\n  return (\n    <div onClick={openSearch} className={`navbar__search ${showSearchBar ? 'navbar__search--open' : 'navbar__search--closed'}`}>\n      <i className=\"fas fa-search\"></i>\n      {showSearchBar && (\n        <SearchField searchValue={searchValue} setSearchValue={setSearchValue} />\n      )}\n    </div>\n  )\n}\n","import React, { useState } from 'react'\n\nimport './FormInput.css'\n\nexport default function FormInput({ name, type, value, onChange, required }) {\n  const [focused, setFocused] = useState(false)\n\n  const focusChildInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.querySelector('input').focus()\n  }\n\n  const focusSiblingInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.parentElement.querySelector('input').focus()\n  }\n\n  const shiftName = (e) => {\n    e.stopPropagation()\n    if (focused) return;\n    setFocused(true)\n    const wrapper = e.target.parentElement\n    wrapper.classList.add('form-input__container--focused')\n    wrapper.classList.add('form-input__container--filled')\n  }\n\n  const blurContainer = (e) => {\n    setFocused(false)\n    const wrapper = e.target.parentElement\n    wrapper.classList.remove('form-input__container--focused')\n    if (!e.target.value) wrapper.classList.remove('form-input__container--filled')\n  }\n\n  return (\n    <div onClick={focusChildInput} className=\"form-input__container\">\n      <div onClick={focusSiblingInput} className=\"form-input__name\">{name}</div>\n      <input\n        onClick={(e) => e.stopPropagation()}\n        onFocus={shiftName}\n        onBlur={blurContainer}\n        className=\"form-input__input\"\n        type={type}\n        value={value}\n        onChange={onChange}\n        required={required}\n      />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session'\n\nimport FormInput from '../FormInput'\n\nimport './LoginForm.css'\n\nexport default function LoginForm() {\n  const dispatch = useDispatch();\n  const [credential, setCredential] = useState('')\n  const [password, setPassword] = useState('')\n  const [errors, setErrors] = useState([])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n\n    return dispatch(sessionActions.login({ credential, password }))\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n        }\n      })\n  }\n\n  return (\n    <form className='login-form'>\n      <h2>Login to <span style={{ fontFamily: \"'Pacifico', cursive\" }}>'SupDog</span></h2>\n      {errors.length > 0 && (\n        <ul>\n          {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n        </ul>\n      )}\n      <div className=\"login-form__input-fields\">\n        <FormInput name='Email or Username' required={true} type=\"text\" value={credential} onChange={({ target }) => setCredential(target.value)} />\n        <FormInput name='Password' required={true} type=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} />\n      </div>\n      <div className=\"button button--primary\" onClick={handleSubmit}>Log In</div>\n    </form>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Modal } from '../../context/Modal'\nimport LoginForm from './LoginForm'\n\nexport default function LoginFormModal() {\n  const [showModal, setShowModal] = useState(false)\n\n  return (\n    <>\n      <div className=\"navbar__button\" onClick={() => {\n        setShowModal(true)\n      }}>Log In</div>\n      {showModal && (\n        <>\n          <Modal onClose={() => setShowModal(false)}>\n            <LoginForm />\n          </Modal>\n        </>\n      )}\n    </>\n  )\n}\n","// create the image with a src of the base64 string\nconst createImage = (url) =>\n  new Promise((resolve, reject) => {\n    const image = new Image()\n    image.addEventListener('load', () => resolve(image))\n    image.addEventListener('error', error => reject(error))\n    image.setAttribute('crossOrigin', 'anonymous')\n    image.src = url\n  })\n\nexport const getCroppedImg = async (imageSrc, crop, width = 250, height = 250) => {\n  const image = await createImage(imageSrc)\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n\n  /* setting canvas width & height allows us to\n  resize from the original image resolution */\n  canvas.width = width\n  canvas.height = height\n\n  ctx.drawImage(\n    image,\n    crop.x,\n    crop.y,\n    crop.width,\n    crop.height,\n    0,\n    0,\n    canvas.width,\n    canvas.height\n  )\n\n  return new Promise((resolve) => {\n    canvas.toBlob((blob) => {\n      resolve(blob)\n    }, 'image/jpeg')\n  })\n}\n","import React, { useState } from 'react'\nimport Cropper from 'react-easy-crop'\nimport { getCroppedImg } from './cropImage'\n\nconst ImageCropper = ({ getBlob, inputImg, aspect = 1, width = 250, height = 250 }) => {\n  const [crop, setCrop] = useState({ x: 0, y: 0 })\n  const [zoom, setZoom] = useState(1)\n\n  const onCropComplete = async (_, croppedAreaPixels) => {\n    const croppedImage = await getCroppedImg(\n      inputImg,\n      croppedAreaPixels,\n      width,\n      height\n    )\n    getBlob(croppedImage)\n  }\n\n  return (\n    <div className='cropper'>\n      <Cropper\n        image={inputImg}\n        crop={crop}\n        zoom={zoom}\n        aspect={aspect}\n        onCropChange={setCrop}\n        onCropComplete={onCropComplete}\n        onZoomChange={setZoom}\n      />\n    </div>\n  )\n}\n\nexport default ImageCropper\n","import React, { useState } from 'react';\nimport ImageCropper from './ImageCropper'\n\nimport './cropper.css'\n\nconst ImageInput = ({ aspect, onChange, width, height }) => {\n  const [blob, setBlob] = useState(null)\n  const [inputImg, setInputImg] = useState('')\n\n  const getBlob = (blob) => {\n    //function to pass the blob from inner components up to this component\n    setBlob(blob)\n    onChange(blob)\n  }\n\n  const onInputChange = (e) => {\n    // convert image file to base64 string\n    const file = e.target.files[0]\n    const reader = new FileReader()\n\n    reader.addEventListener('load', () => {\n      setInputImg(reader.result)\n    }, false)\n\n    if (file) {\n      reader.readAsDataURL(file)\n    }\n  }\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        accept='image/*'\n        onChange={onInputChange}\n      />\n      <div className=\"image-cropper__container\">\n        {\n          (\n            <ImageCropper\n              getBlob={getBlob}\n              inputImg={inputImg}\n              aspect={aspect}\n              width={width}\n              height={height}\n            />\n          )\n        }\n      </div>\n    </>\n  )\n}\n\nexport default ImageInput\n","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport compress from 'compress.js'\n\nimport * as sessionActions from '../../store/session'\nimport { Redirect } from 'react-router-dom'\nimport FormInput from '../FormInput'\nimport ImageInput from '../ImageCropper/ImageInput'\n\nimport './SignupForm.css'\n\n\n// Start of profile pic resizing function\nconst resizeProfilePic = async (file) => {\n  const resizedImage = await compress.compress([file], {\n    size: 2, //Max file size set to 2Mb\n    quality: 1, //Sets quality of image (max of 1),\n    maxWidth: 300, //Sets the max width of the image to 300px\n    maxHeight: 300, //Sets the max height of the image\n    resize: true //confirm that we want to resize the picture\n  })\n\n  const img = resizedImage[0]; //compress.compress returns an array\n  const base64str = img.data;\n  const imgExt = img.ext;\n  const resizedFile = compress.convertBase64ToFile(base64str, imgExt)\n  return resizedFile\n}\n\nexport default function SignupForm() {\n  const dispatch = useDispatch()\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [email, setEmail] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [profilePic, setProfilePic] = useState(null)\n  // const [profilePicPreview, setProfilePicPreview] = useState(null)\n  const [errors, setErrors] = useState([])\n  const [sending, setSending] = useState(false)\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  if (sessionUser) return (<Redirect to='/' />)\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n\n    setErrors([]);\n\n    let newErrors = [];\n\n    if (confirmPassword !== password) {\n      newErrors.push('Please make sure passwords match!')\n      return setErrors(newErrors)\n    }\n\n    setSending(true)\n\n    const user = { email, username, firstName, lastName, profilePic, password }\n\n    return dispatch(sessionActions.signup(user))\n      .then((res) => {\n        if (res.statusText !== 'OK') throw res\n        return res\n      })\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n          setSending(false)\n        }\n      })\n\n  }\n\n  return (\n    <form className='signup-form'>\n      <h2>Sign Up for <span style={{ fontFamily: \"'Pacifico', cursive\" }}>'SupDog</span></h2>\n      {errors.length > 0 && (\n        <ul>\n          {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n        </ul>\n      )}\n      <div className=\"signup-form__inputs-container\">\n        <div className=\"signup-form__input-fields\">\n          <FormInput name='First Name' required={true} type=\"text\" value={firstName} onChange={({ target }) => setFirstName(target.value)} />\n          <FormInput name='Last Name' required={true} type=\"text\" value={lastName} onChange={({ target }) => setLastName(target.value)} />\n          <FormInput name='Email' required={true} type=\"text\" value={email} onChange={({ target }) => setEmail(target.value)} />\n          <FormInput name='Username' required={true} type=\"text\" value={username} onChange={({ target }) => setUsername(target.value)} />\n          <FormInput name='Password' required={true} type=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} />\n          <FormInput name='Confirm Password' required={true} type=\"password\" value={confirmPassword} onChange={({ target }) => setConfirmPassword(target.value)} />\n        </div>\n        <div className=\"signup-form__profile-pic\">\n          <h2>Select a Profile Picture</h2>\n          <span>After selection image, drag to position and scroll to zoom.</span>\n          <ImageInput aspect={1} onChange={setProfilePic} />\n        </div>\n      </div>\n      {<div className=\"button button--primary\" onClick={handleSubmit}>Sign Up</div>}\n    </form>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Modal } from '../../context/Modal'\nimport SignupForm from './SignupForm'\n\nexport default function SignupFormModal() {\n  const [showModal, setShowModal] = useState(false)\n\n  return (\n    <>\n      <div className=\"navbar__button navbar__button--primary\" onClick={() => {\n        setShowModal(true)\n      }}>Sign Up</div>\n      {showModal && (\n        <>\n          <Modal onClose={() => setShowModal(false)}>\n            <SignupForm />\n          </Modal>\n        </>\n      )}\n    </>\n  )\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport ProfileButton from './ProfileButton';\nimport SearchButton from './SearchButton';\n\nimport LoginFormModal from '../LoginFormModal'\nimport SignupFormModal from '../SignupFormPage';\n\nimport './Navigation.css'\nimport { changeView } from '../../store/view';\nimport * as  sessionActions from '../../store/session'\n\n\nexport default function Navigation({ isLoaded }) {\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  const loginAsDemo = (e) => {\n    e.stopPropagation();\n    const credential = 'demo@user.io'\n    const password = 'password'\n\n    return dispatch(sessionActions.login({ credential, password }))\n  }\n\n  let sessionLinks;\n\n  if (sessionUser) {\n    sessionLinks = (\n      <ProfileButton />\n    )\n  } else {\n    sessionLinks = (\n      <>\n        <div onClick={loginAsDemo} className=\"button\">Demo</div>\n        <LoginFormModal />\n        <SignupFormModal />\n      </>\n    )\n  }\n\n  const logoClick = (e) => {\n    e.stopPropagation();\n    dispatch(changeView(null))\n    history.push('/')\n  }\n\n  return (\n    <div className=\"navbar__container\">\n      <div className=\"navbar__logo\" onClick={logoClick}><img src=\"/images/'SupDog-Logo.png\" alt='' width=\"150px\" /></div>\n      <div className=\"navbar__right-container\">\n        <SearchButton />\n        <div className=\"navbar__links\">\n          {isLoaded && sessionLinks}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import Axios from 'axios'\n\nimport { fetch } from './csrf'\n\nconst ADD_EVENTS = 'events/addEvents'\nconst SET_EVENTS = 'events/setEvents'\n// const GET_N_EVENTS = 'events/getNEvents'\n// const GET_ALL_EVENTS = 'events/getALLEvents'\nconst CLEAR_EVENTS = 'events/clearEvents'\n\n//events is an array\nconst setEvents = (events) => ({\n  type: SET_EVENTS,\n  payload: events\n})\n\n//events is an array\nconst addEvents = (events) => ({\n  type: ADD_EVENTS,\n  payload: events\n})\n\nconst _clearEvents = () => ({\n  type: CLEAR_EVENTS\n})\n\n// const getNEvents = (start = 0, amount = 10) => ({\n//   type: GET_N_EVENTS,\n//   payload: {\n//     start,\n//     amount\n//   }\n// })\n\n// const getAllEvents = () => ({\n//   type: GET_ALL_EVENTS,\n// })\n\n// export const getCurrentEvents = () => {\n//   return dispatch => {\n//     return dispatch(getAllEvents())\n//   }\n// }\n\nexport const clearEvents = () => {\n  return dispatch => {\n    return dispatch(_clearEvents())\n  }\n}\n\nexport const loadMoreEvents = (start, amount, view) => {\n  return async dispatch => {\n\n    let res;\n    if (view && view.startsWith('CATEGORY:')) {\n      let categoryId = view.slice(9)\n      res = await fetch(`/api/categories/${categoryId}?start=${start}&amoount=${amount}`)\n    } else if (view && view.startsWith('SEARCH:')) {\n      let searchQuery = encodeURI(view.slice(7))\n      res = await fetch(`/api/events/search?start=${start}&amount=${amount}&search=${searchQuery}`)\n    } else {\n      res = await fetch(`/api/events?start=${start}&amount=${amount}`)\n    }\n\n    let { events } = res.data\n\n    if (events && events.length >= 1) return dispatch(addEvents(events))\n  }\n}\n\nexport const createNewEvent = (event) => {\n  const { title, summary, organizer, about, eventPic, tickets } = event\n\n  const formData = new FormData();\n  formData.append('title', title)\n  formData.append('summary', summary)\n  formData.append('organizer', organizer)\n  formData.append('tickets', tickets)\n  if (about) {\n    formData.append('about', about)\n  }\n  if (eventPic) {\n    formData.append('eventPic', eventPic)\n  }\n\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  }\n\n  return Axios.post('/api/events/', formData, config)\n    .catch((err) => {\n      return err.response\n    })\n\n}\n\nconst initialState = []\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n\n    case SET_EVENTS:\n      return [...payload]\n\n    case ADD_EVENTS:\n      return [...state, ...payload]\n\n    case CLEAR_EVENTS:\n      return []\n\n    default:\n      return state\n  }\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport './EventCard.css'\n\nfunction TicketItem({ ticket }) {\n  return (\n    <li className=\"event-card__background-ticket-item\">\n      {ticket.name}\n    </li>\n  )\n}\n\n\nexport default function EventCard({ event }) {\n  const history = useHistory()\n\n  const { id, title, organizer, eventPicURL, summary, tickets } = event\n\n  const [left, avail] = tickets.reduce((acc, ticket) => {\n    acc[1] += ticket.quantity;\n    acc[0] += ticket.quantity - ticket.sold;\n    return acc\n  }, [0, 0])\n\n  const handleClick = (e) => {\n    e.stopPropagation()\n    history.push(`/events/${id}`)\n  }\n\n  return (\n    <div key={`event-${id}`} className=\"event-card__wrapper\" onClick={handleClick}>\n      <div className='event-card__foreground'>\n        <div className=\"event-card__picture-wrapper\">\n          <img className=\"event-card__picture\" src={eventPicURL} alt=\"\" />\n        </div>\n        <div className=\"event-card__foreground-details\">\n          <h1 className=\"event-card__foreground-details-title\">{title}</h1>\n          <h2 className=\"event-card__foreground-details-organizer\">\n            Hosted by:\n            <div>\n              <img className='event-card__organizer-pic' src={organizer.profilePicURL} alt=\"\" />\n              <span>{organizer.username}</span>\n            </div>\n          </h2>\n          <h2 className=\"event-card__foreground-details-ticket-count\">\n            <i className=\"fas fa-ticket-alt\" />\n            <span>{`${left} `}</span>\n            out of\n            <span>{` ${avail} `}</span>\n            remaining\n          </h2>\n        </div>\n      </div>\n      <div className='event-card__background'>\n        <img className=\"event-card__background-image\" src={eventPicURL} alt=\"\" />\n        <div className=\"event-card__background-details\">\n          <h1 className=\"event-card__background-title\">{title}</h1>\n          <h2 className=\"event-card__background-summary\">{summary}</h2>\n          <ul className=\"event-card__background-tickets\">\n            <span>Ticket Types:</span>\n            {tickets.map(ticket => {\n              return <TicketItem key={ticket.id} ticket={ticket} />\n            })}\n          </ul>\n        </div>\n        <div className=\"button button--primary\">SEE MORE</div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport './Footer.css'\n\n\n//TODO: fix the image link so it doesn't reload\nexport default function Footer() {\n  return (\n    <div className=\"footer__wrapper\">\n      <div className=\"footer__image-wrapper\">\n        <Link to=\"/\" >\n          <img src=\"/images/Favicon-Logo.png\" alt=\"\" />\n        </Link>\n      </div>\n      <div className=\"footer__links\">\n        <div className=\"footer__links-left\">\n          <h1 style={{ fontWeight: 'bold' }}>References</h1>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://popdog.com/\">Popdog</a>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.eventbrite.com/\">Eventbrite</a>\n        </div>\n        <div className=\"footer__links-right\">\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/sjstark/supdog\" >\n            <i className=\"fab fa-github-square\" />\n          </a>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.linkedin.com/in/samueljamesstark/\">\n            <i className=\"fab fa-linkedin\" />\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { connect, useDispatch } from 'react-redux'\nimport { clearEvents, loadMoreEvents } from '../../store/event'\n\nimport { fetch } from '../../store/csrf'\n\nimport EventCard from '../EventCard'\nimport Footer from '../Footer'\n\nimport './EventDisplay.css'\n\nfunction EventDisplay({ events, view, isLoading }) {\n  const dispatch = useDispatch()\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [viewName, setViewName] = useState('All Events')\n\n  const changeViewName = async (view) => {\n\n    if (view === null) {\n      return setViewName('All Events')\n    }\n    if (view.startsWith('SEARCH:')) {\n      let searchParam = view.slice(7)\n      return setViewName(`Search for: ${searchParam}`)\n    }\n    if (view.startsWith('CATEGORY:')) {\n      let categoryId = view.slice(9)\n      let res = await fetch(`/api/categories/${categoryId}/title`)\n      return setViewName(`Category: ${res.data}`)\n    }\n\n  }\n\n  useEffect(() => {\n    (async () => {\n      setIsLoaded(false)\n      await dispatch(clearEvents())\n      await dispatch(loadMoreEvents(0, 10, view))\n      await changeViewName(view)\n      setIsLoaded(true)\n    })()\n  }, [view])\n\n  const getMoreEvents = async (e) => {\n    e.stopPropagation();\n    setIsLoaded(false)\n    await dispatch(loadMoreEvents(events.length, 10, view))\n    setIsLoaded(true)\n  }\n\n  return (\n    <div className=\"event-display-container\">\n      <h1 className=\"event-display-title\">{viewName}</h1>\n      <ul className=\"event-display-list\">\n        {isLoaded && (\n          <>\n            {events.length === 0 && (\n              <div style={{ height: '50vh' }}> There are no events for this yet!</div>\n            )}\n            {events && events\n              // .slice(0, 1)\n              .map((event) => {\n\n                return (\n                  <EventCard key={`event-${event.id}`} event={event} />\n                )\n              })}\n          </>\n        )}\n      </ul>\n      {isLoaded && (\n        <>\n          {events.length > 0 && (\n            <div className=\"event-display__show-more-wrapper\">\n              <div className=\"event-display__show-more-line\" />\n              <div className=\"event-display__show-more-button-wrapper\">\n                <div onClick={getMoreEvents} className=\"button button--primary button--large\">Load More Events</div>\n              </div>\n            </div>\n          )}\n          <Footer />\n        </>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({ events: state.events, view: state.view })\n\n\nexport default connect(mapStateToProps)(EventDisplay)\n","import React, { useEffect } from 'react'\n\nimport { fetch } from '../../store/csrf'\n\nimport './TicketItem.css'\n\nexport default function TicketItem({ ticket, getEvent }) {\n  let isSoldOut = ticket.sold >= ticket.quantity\n\n  useEffect(() => {\n    isSoldOut = ticket.sold >= ticket.quantity\n  }, [ticket])\n\n  const registerUser = async (e) => {\n    e.stopPropagation();\n    e.target.onClick = null\n\n    e.target.classList.add('button--disabled')\n\n    await fetch(`/api/tickets/${ticket.id}`, {\n      method: 'POST'\n    })\n\n    let successEl = e.target.parentElement.querySelector('.success')\n    successEl.classList.add('shown')\n    setTimeout(() => {\n      successEl.classList.remove('shown')\n    }, 100)\n\n    e.target.classList.remove('button--disabled')\n\n    e.target.onClick = registerUser\n\n    // Reloads event in case ticket is sold out\n    // (really this should be done with Redux...)\n    await getEvent()\n  }\n\n  return (\n    <div className=\"ticket-item__wrapper\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2 className=\"ticket-item__name\">{ticket.name}</h2>\n        <h2 className=\"ticket-item__tickets-left\">{ticket.quantity - ticket.sold} Left</h2>\n      </div>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        {!isSoldOut && (\n          <div onClick={registerUser} className=\"button button--small button--primary\">Register</div>\n        )}\n        {isSoldOut && (\n          <div className=\"button button--small button--disabled\">Sold Out</div>\n        )}\n        <div className=\"success\">Success!</div>\n      </div>\n    </div >\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { fetch } from '../../store/csrf'\nimport TicketItem from '../TicketItem'\n\nimport './EventDetails.css'\n\nexport default function EventDetails() {\n\n  let { id } = useParams()\n  const [event, setEvent] = useState(null)\n\n  const getEvent = async () => {\n    const res = await fetch(`/api/events/${id}`)\n    setEvent(res.data)\n  }\n\n\n  useEffect(() => {\n    getEvent()\n  }, [id])\n\n\n  return (\n    <>\n      {event && (\n        <div className=\"event-details__container\">\n          <div className=\"event-details__background-container\">\n            <div className=\"event-details__background-image-container\">\n              <img className=\"event-details__background-image\" src={event.eventPicURL} alt=\"\" />\n            </div>\n          </div>\n          <div className=\"event-details__content\">\n            <div className=\"event-details__header\">\n              <div className=\"event-details__header-left\">\n                <img className=\"event-details__header-image\" src={event.eventPicURL} alt=\"\" />\n              </div>\n              <div className=\"event-details__header-right\">\n                {/* <h1 className=\"event-detail__header-date\"></h1> */}\n                <h1 className=\"event-detail__header-title\">{event.title}</h1>\n                <h1 className=\"event-detail__header-organizer\">{'by '}\n                  <img className=\"event-detail__header-organizer-pic\" src={event.organizer.profilePicURL} alt=\"\" />\n                  {event.organizer.username}</h1>\n              </div>\n            </div>\n            <div className=\"event-details__body\">\n              <div className=\"event-details__body-left\">\n                <span >{event.summary}</span>\n                <h3>About this Event</h3>\n                <p>{event.about}</p>\n              </div>\n              <div className=\"event-details__body-right\">\n                <h1 style={{ fontSize: \"24px\" }}>\n                  Tickets\n                </h1>\n                {event.tickets.map(ticket => {\n                  return <TicketItem key={ticket.id} ticket={ticket} getEvent={getEvent} />\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Redirect, useHistory } from 'react-router-dom'\n\nimport { createNewEvent } from '../../store/event'\n\nimport ImageInput from '../ImageCropper/ImageInput'\n\n\nexport default function NewEventForm() {\n  const history = useHistory()\n\n  const [title, setTitle] = useState('')\n  const [summary, setSummary] = useState('')\n  const [about, setAbout] = useState('')\n  const [eventPic, setEventPic] = useState(null)\n\n  const [tickets, setTickets] = useState([])\n  const [ticketType, setTicketType] = useState('')\n  const [ticketQty, setTicketQty] = useState(0)\n\n  const [errors, setErrors] = useState([])\n  const [sending, setSending] = useState(false)\n  const [step, setStep] = useState(0)\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  // Redirect back to homepage if user is not logged in\n  if (!sessionUser) return (<Redirect to='/' />)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setSending(true)\n\n    setErrors([])\n\n    const event = { title, summary, about, eventPic, organizer: sessionUser.id, tickets: JSON.stringify(tickets) }\n\n    return createNewEvent(event)\n      .then((res) => {\n        if (res.statusText !== 'OK') throw res\n        else {\n          history.push('/')\n        }\n      })\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n          setSending(false)\n        }\n      })\n  }\n\n  const addTicket = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    const ticket = { name: ticketType, quantity: ticketQty }\n    setTickets([...tickets, ticket])\n    setTicketType('')\n    setTicketQty(0)\n  }\n\n  const nextPage = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setStep(step + 1)\n  }\n\n  const lastPage = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setStep(step - 1)\n  }\n\n  const EventDetailsForm = (\n    <form className=\"event-create-form\">\n      <ul>\n        {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n      </ul>\n      <div>\n        <label>\n          Event Title:\n          <input type=\"text\" value={title} onChange={({ target }) => setTitle(target.value)} />\n        </label>\n      </div>\n      <div>\n        <label>\n          Summary:\n          <textarea rows={2} cols={50} value={summary} onChange={({ target }) => setSummary(target.value)} />\n        </label>\n      </div>\n      <div>\n        <label>\n          About:\n          <textarea value={about} rows={10} cols={50} onChange={({ target }) => setAbout(target.value)} />\n        </label>\n      </div>\n      <div>\n        <label>\n          Event Picture:\n          <span>2160px x 1080px (2:1 ratio)</span>\n        </label>\n        <ImageInput aspect={2} onChange={setEventPic} height={1080} width={2160} />\n        {/* <label>\n          Event Picture:\n          <input id='event-pic-upload' type=\"file\" onChange={updateFile} />\n        </label>\n        {eventPicPreview && (<img width=\"500px\" id=\"event-pic-preview\" src={eventPicPreview} alt=\"Loading Event Pic...\" />)} */}\n      </div>\n      <button onClick={() => history.replace('/')}>Cancel Event Creation</button>\n      {!sending && <button onClick={nextPage}>Next Step</button>}\n      {sending && <button disabled={true}>Next Step</button>}\n\n    </form>\n  )\n\n  const removeTicket = (idx) => {\n    setTickets([...tickets.slice(0, idx), ...tickets.slice(idx + 1)])\n  }\n\n  const TicketCreateForm = (\n    <>\n      <form onSubmit={handleSubmit} className=\"ticket-create-form\">\n        <ul>\n          {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n        </ul>\n        <div>\n          <label>\n            Ticket Title:\n            <input type=\"text\" value={ticketType} onChange={({ target }) => setTicketType(target.value)} />\n          </label>\n        </div>\n        <div>\n          <label>\n            Quantity Available:\n            <input type='number' value={ticketQty} onChange={({ target }) => setTicketQty(target.value)} />\n          </label>\n        </div>\n        <button onClick={() => history.replace('/')}>Cancel Event Creation</button>\n        <button onClick={lastPage}>Go Back</button>\n        <button onClick={addTicket}>Create Current Ticket</button>\n        {(tickets.length >= 1) && (<button type='submit'>Create Event</button>)}\n        {!(tickets.length >= 1) && (<button disabled={true} type='submit'>Create Event</button>)}\n\n        {/* {!sending && <button type=\"submit\">Create Event</button>}\n        {sending && <button disabled={true}>Create Event</button>} */}\n\n      </form>\n      <ul>\n        {tickets && tickets.map((ticket, idx) => {\n          return (\n            <li key={ticket.name}>\n              <span>Ticket Type: {ticket.name} </span>\n              <span>Quanitity: {ticket.quantity}</span>\n              <button onClick={(e) => {\n                e.preventDefault()\n                e.stopPropagation()\n                removeTicket(idx)\n              }}>Remove Ticket</button>\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n\n  const formSteps = [\n    EventDetailsForm,\n    TicketCreateForm\n  ]\n\n  return (\n    <>\n      {formSteps[step]}\n    </>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux'\n\nimport { fetch } from '../../store/csrf'\nimport { changeView } from '../../store/view';\n\nimport './CategoryBar.css'\n\n\n//returns an object of {r, g, b} if success, null if not. can take eithe '#a1b2c3' or 'a1b2c3'\nconst hexToRgb = (hex) => {\n  // Use regex to parse r, g, b into result\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null\n}\n\n// takes hex background color and gets luminence to determine font color\nconst getFontColor = (backgroundColor) => {\n  let color = hexToRgb(backgroundColor)\n\n  let tracker = {}\n  for (const key in color) {\n    let c = color[key]\n    c = c / 255\n    if (c <= 0.03928) {\n      tracker[key] = c / 12.92\n    } else {\n      tracker[key] = Math.pow(((c + 0.055) / 1.055), 2.4)\n    }\n  }\n  const L = tracker.r * 0.2126 + tracker.g * 0.7152 + tracker.b * 0.0722\n\n  return L > 0.179 ? '#000000' : '#ffffff'\n}\n\nfunction Category({ id, icon, title, color }) {\n  const dispatch = useDispatch()\n\n  const history = useHistory()\n\n  const fontColor = getFontColor(color)\n\n  const setView = (e) => {\n    e.stopPropagation()\n\n    dispatch(changeView(`CATEGORY:${id}`))\n\n    history.push('/')\n\n  }\n\n  return (\n    <div className=\"category-bar__category-wrapper\" onClick={setView}>\n      <div className=\"category-bar__category-bubble\" style={{ backgroundColor: color }}>\n        <i className={icon} style={{ color: fontColor }} />\n      </div>\n      <span className=\"category-bar__category-title\">{title}</span>\n    </div>\n  )\n}\n\n\nexport default function CategoryBar() {\n  const [categories, setCategories] = useState([])\n  const [catLoaded, setCatLoaded] = useState(false)\n\n  useEffect(() => {\n    (async () => {\n      let res = await fetch('/api/categories')\n      let categoriesJSON = res.data\n\n      setCategories(categoriesJSON)\n      setCatLoaded(true)\n    })()\n  }, [])\n\n  return (\n    <div className=\"category-bar\">\n      <h3 className=\"category-bar__title\">Categories</h3>\n      <div className=\"category-bar__categories\">\n        {catLoaded &&\n          categories.map(category => {\n            return (\n              <Category key={`category-${category.id}`} id={category.id} icon={category.icon} title={category.title} color={category.color} />\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Navigation from './components/Navigation';\nimport EventDisplay from './components/EventDisplay';\nimport EventDetails from './components/EventDetails';\nimport NewEventForm from './components/NewEventForm';\nimport CategoryBar from './components/CategoryBar';\n\nimport { restoreUser } from './store/session';\nimport { loadMoreEvents } from './store/event';\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  const [currentView, setCurrentView] = useState(null)\n\n  const [isLoaded, setIsLoaded] = useState(false)\n\n  useEffect(() => {\n    dispatch(restoreUser())\n      .then(() => dispatch(loadMoreEvents(0, 10)))\n      .then(() => setIsLoaded(true))\n  }, [dispatch])\n\n\n  /*\n\n  Base level components\n  - NavBar - Navigation links for home (logo), search, login, signup, and profile options\n  - CatBar - Navigation links for categories, a list of category icons and titles\n  - Events Display - The main content of the page.\n    - All Events View\n    - Search Events View\n    - Category Events View\n    - Create Event View\n    - Tickets View\n\n\n  */\n  return (\n    <div className=\"main-wrapper\">\n      <Navigation isLoaded={isLoaded} />\n      <CategoryBar isLoaded={isLoaded} />\n\n      <div className=\"main-content-wrapper\">\n        {isLoaded && (\n\n          <Switch>\n            <Route path=\"/events/:id\"> <EventDetails /></Route>\n            <Route path=\"/new-event\"> <NewEventForm /> </Route>\n            <Route path=\"/my-tickets\"></Route>\n            <Route path=\"/\" render={() => <EventDisplay />} />\n          </Switch>\n\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport sessionReducer from './session'\nimport eventReducer from './event'\nimport viewReducer from './view'\n\nconst rootReducer = combineReducers({\n  session: sessionReducer,\n  events: eventReducer,\n  view: viewReducer,\n})\n\nlet enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk)\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n}\n\nexport default configureStore\n","import React from 'react';\n\nimport './reset.css';\nimport './index.css';\n\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ModalProvider } from './context/Modal'\nimport App from './App';\n\nimport { restoreCSRF, fetch } from './store/csrf'\n\nimport configureStore from './store';\n\nimport * as eventActions from './store/event'\nimport * as sessionActions from './store/session'\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== \"production\") {\n  restoreCSRF();\n\n  window.csrfFetch = fetch;\n  window.store = store\n  window.eventActions = eventActions\n  window.sessionActions = sessionActions\n}\n\nfunction Root() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <ModalProvider>\n          <App />\n        </ModalProvider>\n      </BrowserRouter>\n    </Provider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}