(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},60:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=(n(51),n(52),n(17)),i=n.n(s),o=n(6),u=n(9),l=n(2),d=(n(60),r.a.createContext());function j(e){var t=e.children,n=Object(c.useRef)(),r=Object(c.useState)(),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){o(n.current)}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.Provider,{value:i,children:t}),Object(a.jsx)("div",{ref:n})]})}function b(e){var t=e.onClose,n=e.children,r=Object(c.useContext)(d);return r?i.a.createPortal(Object(a.jsxs)("div",{id:"modal",children:[Object(a.jsx)("div",{id:"modal-background",onClick:t}),Object(a.jsx)("div",{id:"modal-content",children:n})]}),r):null}var p=n(8),v=n(3),f=n.n(v),m=n(4),O=n(22),h=n.n(O),x=n(44),g=n.n(x);function _(e){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(f.a.mark((function e(t){var n,a,c,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=s.length>1&&void 0!==s[1]?s[1]:{}).headers=n.headers||{},n.method=n.method||"GET","GET"!==n.method.toUpperCase()&&(n.headers["XSRF-TOKEN"]=g.a.get("XSRF-TOKEN"),n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json"),e.next=6,window.fetch(t,n);case 6:if(a=e.sent,!(c=a.headers.get("content-type"))||!c.includes("application/json")){e.next=13;break}return e.next=11,a.json();case 11:r=e.sent,a.data=r;case 13:if(!(a.status>=400)){e.next=15;break}throw a;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k="session/setUser",y="session/removeUser",w=function(e){return{type:k,payload:e}},S=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a,c,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.credential,c=e.password,"POST",r={credential:a,password:c},t.next=5,_("/api/session",{method:"POST",body:JSON.stringify(r)});case 5:return s=t.sent,n(w(s.data.user)),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E={user:null};var C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k:return(e=Object.assign({},t)).user=n.payload,e;case y:return(e=Object.assign({},t)).user=null,e;default:return t}},P="view/setView",L="view/clearView",D=function(e){return function(t){return t({type:P,payload:e})}},T=function(){return function(e){return e({type:L})}},q=n(45),I=n(46);function R(){var e=Object(o.c)(),t=Object(p.g)(),n=Object(c.useState)(!1),r=Object(l.a)(n,2),s=r[0],i=r[1],d=Object(c.useState)(null),j=Object(l.a)(d,2),b=j[0],v=j[1],O=Object(o.d)((function(e){return e.session.user}));Object(c.useEffect)((function(){if(s){var e=function(){i(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[s]),Object(c.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/session");case 2:t=e.sent,v(t.data.user.profilePicURL);case 4:case"end":return e.stop()}}),e)})))()}),[O]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{onClick:function(e){s||i(!0)},className:"navbar__user-container",children:[Object(a.jsx)("div",{className:"navbar__user-container-dropdown",children:Object(a.jsx)("i",{className:"fas fa-caret-down"})}),b&&Object(a.jsx)("img",{className:"navbar__profile-icon",src:b+"?uniqueQuery=".concat(encodeURI((new Date).toISOString())),alt:""}),!b&&Object(a.jsx)(q.a,{icon:I.a,className:"navbar__profile-icon--default"}),Object(a.jsxs)("div",{className:"navbar__profile-dropdown ".concat(s?"navbar__profile-dropdown--shown":"navbar__profile-dropdown--hidden"),children:[Object(a.jsxs)("div",{className:"navbar__dropdown-user-info",children:[Object(a.jsx)("div",{className:"navbar__dropdown-text",children:O.username}),Object(a.jsx)("div",{className:"navbar__dropdown-text",children:O.email})]}),Object(a.jsxs)("div",{className:"navbar__dropdown-links",children:[Object(a.jsx)(u.b,{className:"navbar__dropdown-link",to:"/new-event",children:"Create A New Event"}),Object(a.jsx)("div",{className:"navbar__dropdown-link",onClick:function(n){n.preventDefault(),e(D("MY-EVENTS")),t.push("/")},children:"My Events"}),Object(a.jsx)(u.b,{className:"navbar__dropdown-link",to:"/my-tickets",children:"My Tickets"}),Object(a.jsx)("div",{className:"navbar__dropdown-link",onClick:function(n){n.preventDefault(),e(function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/session",{method:"DELETE"});case 2:e.sent,t({type:y});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(T()),t.push("/")},children:"Log Out"})]})]})]})})}var F=n(16),U="events/addEvents",M="events/setEvents",A="events/clearEvents",z=function(e){return{type:U,payload:e}},V=function(){return function(e){return e({type:A})}},Y=function(e,t,n){return function(){var a=Object(m.a)(f.a.mark((function a(c){var r,s,i,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n||!n.startsWith("CATEGORY:")){a.next=7;break}return s=n.slice(9),a.next=4,_("/api/categories/".concat(s,"?start=").concat(e,"&amoount=").concat(t));case 4:r=a.sent,a.next=23;break;case 7:if(!n||!n.startsWith("SEARCH:")){a.next=14;break}return i=encodeURI(n.slice(7)),a.next=11,_("/api/events/search?start=".concat(e,"&amount=").concat(t,"&search=").concat(i));case 11:r=a.sent,a.next=23;break;case 14:if(!n||"MY-EVENTS"!==n){a.next=20;break}return a.next=17,_("/api/events/my-events?start=".concat(e,"&amount=").concat(t));case 17:r=a.sent,a.next=23;break;case 20:return a.next=22,_("/api/events?start=".concat(e,"&amount=").concat(t));case 22:r=a.sent;case 23:if(!((o=r.data.events)&&o.length>=1)){a.next=26;break}return a.abrupt("return",c(z(o)));case 26:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(V());case 2:return t.next=4,n(Y(0,10,e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e){var t=e.title,n=e.summary,a=e.categoryId,c=e.organizer,r=e.about,s=e.eventPic,i=e.tickets,o=e.dates,u=new FormData;u.append("title",t),u.append("summary",n),u.append("organizer",c),u.append("categoryId",a),u.append("tickets",i),u.append("eventDates",o),r&&u.append("about",r),s&&u.append("eventPic",s);return h.a.post("/api/events/",u,{headers:{"content-type":"multipart/form-data"}}).catch((function(e){return e.response}))},G=function(e,t){var n=t.title,a=t.summary,c=t.categoryId,r=t.organizer,s=t.about,i=t.eventPic,o=t.tickets,u=t.dates,l=new FormData;l.append("eventId",e),l.append("title",n),l.append("summary",a),l.append("organizer",r),l.append("categoryId",c),l.append("tickets",o),l.append("eventDates",u),s&&l.append("about",s),i&&l.append("eventPic",i);return h.a.put("/api/events/",l,{method:"PUT",headers:{"content-type":"multipart/form-data"}}).catch((function(e){return e.response}))},K=[];function H(e){var t=e.searchValue,n=e.setSearchValue,r=e.closeSearch,s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current.focus()}),[]);return Object(a.jsx)("input",{ref:s,type:"text",placeholder:"Search for event titles",value:t,onChange:function(e){return n(e.target.value)},onKeyUp:function(e){e.stopPropagation(),"Enter"===e.key&&r()}})}function J(){var e=Object(o.c)(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],b=function(e){s(!1)};return Object(c.useEffect)((function(){var t;return t=d?setTimeout((function(){return e(D("SEARCH:".concat(d)))}),100):setTimeout((function(){return e(D(null))}),100),function(){return clearTimeout(t)}}),[d]),Object(c.useEffect)((function(){if(r)return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}),[r]),Object(a.jsxs)("div",{onClick:function(e){e.stopPropagation(),j(""),r||s(!0)},className:"navbar__search ".concat(r?"navbar__search--open":"navbar__search--closed"),children:[Object(a.jsx)("i",{className:"fas fa-search"}),r&&Object(a.jsx)(H,{searchValue:d,setSearchValue:j,closeSearch:b})]})}n(81);function Q(e){var t=e.name,n=e.type,r=e.value,s=e.onChange,i=e.required,o=e.maxLength,u=e.min,d=e.step,j=Object(c.useState)(!1),b=Object(l.a)(j,2),p=b[0],v=b[1];return Object(a.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.querySelector("input").focus()},className:"form-input__container".concat(r&&" form-input__container--filled"),children:[Object(a.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.parentElement.querySelector("input").focus()},className:"form-input__name",children:t}),Object(a.jsx)("input",{onClick:function(e){return e.stopPropagation()},onFocus:function(e){if(e.stopPropagation(),!p){v(!0);var t=e.target.parentElement;t.classList.add("form-input__container--focused"),t.classList.add("form-input__container--filled")}},onBlur:function(e){v(!1);var t=e.target.parentElement;t.classList.remove("form-input__container--focused"),e.target.value||t.classList.remove("form-input__container--filled")},className:"form-input__input",type:n,value:r,onChange:s,required:i,maxLength:o,min:u,step:d})]})}n(82);function X(){var e=Object(o.c)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)([]),p=Object(l.a)(b,2),v=p[0],f=p[1];return Object(a.jsxs)("form",{className:"login-form",children:[Object(a.jsxs)("h2",{children:["Login to ",Object(a.jsx)("span",{style:{fontFamily:"'Pacifico', cursive"},children:"'SupDog"})]}),v.length>0&&Object(a.jsx)("ul",{children:v.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))}),Object(a.jsxs)("div",{className:"login-form__input-fields",children:[Object(a.jsx)(Q,{name:"Email or Username",required:!0,type:"text",value:r,onChange:function(e){var t=e.target;return s(t.value)}}),Object(a.jsx)(Q,{name:"Password",required:!0,type:"password",value:d,onChange:function(e){var t=e.target;return j(t.value)}})]}),Object(a.jsx)("div",{className:"button button--primary",onClick:function(t){return t.preventDefault(),f([]),e(S({credential:r,password:d})).catch((function(e){e.data&&e.data.errors&&f(e.data.errors)}))},children:"Log In"})]})}function Z(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"navbar__button",onClick:function(){r(!0)},children:"Log In"}),n&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(b,{onClose:function(){return r(!1)},children:Object(a.jsx)(X,{})})})]})}n(33);var $=n(48),ee=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))},te=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a,c,r,s,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:250,c=o.length>3&&void 0!==o[3]?o[3]:250,e.next=4,ee(t);case 4:return r=e.sent,s=document.createElement("canvas"),i=s.getContext("2d"),s.width=a,s.height=c,i.drawImage(r,n.x,n.y,n.width,n.height,0,0,s.width,s.height),e.abrupt("return",new Promise((function(e){s.toBlob((function(t){e(t)}),"image/jpeg")})));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(e){var t=e.getBlob,n=e.inputImg,r=e.aspect,s=void 0===r?1:r,i=e.width,o=void 0===i?250:i,u=e.height,d=void 0===u?250:u,j=Object(c.useState)({x:0,y:0}),b=Object(l.a)(j,2),p=b[0],v=b[1],O=Object(c.useState)(1),h=Object(l.a)(O,2),x=h[0],g=h[1],_=function(){var e=Object(m.a)(f.a.mark((function e(a,c){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n,c,o,d);case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"cropper",children:Object(a.jsx)($.a,{image:n,crop:p,zoom:x,aspect:s,onCropChange:v,onCropComplete:_,onZoomChange:g})})},ae=(n(83),function(e){var t=e.aspect,n=e.value,r=e.onChange,s=e.width,i=e.height,o=Object(c.useState)(null),u=Object(l.a)(o,2),d=(u[0],u[1]),j=Object(c.useState)(""),b=Object(l.a)(j,2),p=b[0],v=b[1],f=Object(c.useState)(null),m=Object(l.a)(f,2),O=m[0],h=m[1],x=Object(c.useState)("No File Selected"),g=Object(l.a)(x,2),_=g[0],N=g[1];Object(c.useEffect)((function(){if(n){if(n.startsWith("http"))return h(n),void N("Previous Upload");var e=window.URL||window.webkitURL;h(e.createObjectURL(n)),N("Previous Upload")}}),[]);return Object(a.jsxs)("div",{className:"image-input__container",children:[Object(a.jsxs)("label",{className:"image-input__selector-container",children:[Object(a.jsx)("div",{className:"button",children:"Select File"}),Object(a.jsx)("div",{className:"image-input__filename",children:_}),Object(a.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];N(t.name);var n=new FileReader;n.addEventListener("load",(function(){v(n.result)}),!1),t&&n.readAsDataURL(t)},style:{display:"none"}})]}),Object(a.jsxs)("div",{className:"image-cropper__container",children:[(!O||p)&&Object(a.jsx)(ne,{getBlob:function(e){d(e),r(e)},inputImg:p,aspect:t,width:s,height:i}),!p&&O&&Object(a.jsx)("img",{className:"image-cropper__previous-upload",alt:"Preview Unavailable",src:O})]})]})});n(84);function ce(){var e=Object(o.c)(),t=(Object(p.g)(),Object(c.useState)("")),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(""),v=Object(l.a)(b,2),O=v[0],x=v[1],g=Object(c.useState)(""),_=Object(l.a)(g,2),N=_[0],k=_[1],y=Object(c.useState)(""),S=Object(l.a)(y,2),E=S[0],C=S[1],P=Object(c.useState)(""),L=Object(l.a)(P,2),D=L[0],T=L[1],q=Object(c.useState)(null),I=Object(l.a)(q,2),R=I[0],F=I[1],U=Object(c.useState)([]),M=Object(l.a)(U,2),A=M[0],z=M[1],V=Object(c.useState)(!1),Y=Object(l.a)(V,2),B=(Y[0],Y[1]);if(Object(o.d)((function(e){return e.session.user})))return Object(a.jsx)(p.a,{to:"/"});return Object(a.jsxs)("form",{className:"signup-form",children:[Object(a.jsxs)("h2",{children:["Sign Up for ",Object(a.jsx)("span",{style:{fontFamily:"'Pacifico', cursive"},children:"'SupDog"})]}),A.length>0&&Object(a.jsx)("ul",{children:A.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))}),Object(a.jsxs)("div",{className:"signup-form__inputs-container",children:[Object(a.jsxs)("div",{className:"signup-form__input-fields",children:[Object(a.jsx)(Q,{name:"First Name",required:!0,type:"text",value:r,onChange:function(e){var t=e.target;return s(t.value)}}),Object(a.jsx)(Q,{name:"Last Name",required:!0,type:"text",value:d,onChange:function(e){var t=e.target;return j(t.value)}}),Object(a.jsx)(Q,{name:"Email",required:!0,type:"text",value:O,onChange:function(e){var t=e.target;return x(t.value)}}),Object(a.jsx)(Q,{name:"Username",required:!0,type:"text",value:N,onChange:function(e){var t=e.target;return k(t.value)}}),Object(a.jsx)(Q,{name:"Password",required:!0,type:"password",value:E,onChange:function(e){var t=e.target;return C(t.value)}}),Object(a.jsx)(Q,{name:"Confirm Password",required:!0,type:"password",value:D,onChange:function(e){var t=e.target;return T(t.value)}})]}),Object(a.jsxs)("div",{className:"signup-form__profile-pic",children:[Object(a.jsx)("h2",{children:"Select a Profile Picture"}),Object(a.jsx)("span",{children:"After selection image, drag to position and scroll to zoom."}),Object(a.jsx)(ae,{aspect:1,onChange:F})]})]}),Object(a.jsx)("div",{className:"button button--primary",onClick:function(t){t.preventDefault(),z([]);var n=[];return D!==E?(n.push("Please make sure passwords match!"),z(n)):(B(!0),e(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a,c,r,s,i,o,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.profilePic,c=e.firstName,r=e.lastName,s=e.username,i=e.password,o=e.email,(u=new FormData).append("firstName",c),u.append("lastName",r),u.append("username",s),u.append("password",i),u.append("email",o),a&&u.append("profilePic",a),l={headers:{"content-type":"multipart/form-data"}},t.abrupt("return",h.a.post("/api/users/",u,l).then((function(e){var t=e.data;return n(w(t))})).catch((function(e){return e.response})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:O,username:N,firstName:r,lastName:d,profilePic:R,password:E})).then((function(e){if("OK"!==e.statusText)throw e;return e})).catch((function(e){e.data&&e.data.errors&&(z(e.data.errors),B(!1))})))},children:"Sign Up"})]})}function re(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"navbar__button navbar__button--primary",onClick:function(){r(!0)},children:"Sign Up"}),n&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(b,{onClose:function(){return r(!1)},children:Object(a.jsx)(ce,{})})})]})}n(85);function se(e){var t,n=e.isLoaded,c=Object(p.g)(),r=Object(o.c)();t=Object(o.d)((function(e){return e.session.user}))?Object(a.jsx)(R,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation(),r(S({credential:"demo@user.io",password:"password"}))},className:"button",children:"Demo"}),Object(a.jsx)(Z,{}),Object(a.jsx)(re,{})]});return Object(a.jsxs)("div",{className:"navbar__container",children:[Object(a.jsx)("div",{className:"navbar__logo",onClick:function(e){r(T()),c.push("/")},children:Object(a.jsx)("img",{src:"/images/'SupDog-Logo.png",alt:"",width:"150px"})}),Object(a.jsxs)("div",{className:"navbar__right-container",children:[Object(a.jsx)(J,{}),Object(a.jsx)("div",{className:"navbar__links",children:n&&t})]})]})}var ie=n(11);n(86);function oe(e){var t=e.ticket;return Object(a.jsx)("li",{className:"event-card__background-ticket-item",children:t.name})}function ue(e){var t=e.event,n=Object(p.g)(),r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],u=t.id,d=t.title,j=t.organizer,b=t.eventPicURL,v=t.summary,O=t.tickets,h=O.reduce((function(e,t){return e[1]+=t.quantity,e[0]+=t.quantity-t.sold,e}),[0,0]),x=Object(l.a)(h,2),g=x[0],N=x[1];Object(c.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/events/".concat(t.id,"/next-date"));case 2:n=e.sent,a=0===n.data?"Over":ie.asString("MM/dd",new Date(n.data)),o(a);case 5:case"end":return e.stop()}}),e)})))()}),[t]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"event-card__wrapper",onClick:function(e){n.push("/events/".concat(u))},children:[Object(a.jsx)("h1",{className:"event-card__floating-details-title",children:d}),Object(a.jsxs)("div",{className:"event-card__foreground",children:[Object(a.jsx)("div",{className:"event-card__date-banner",children:i}),Object(a.jsx)("div",{className:"event-card__picture-wrapper",children:Object(a.jsx)("img",{className:"event-card__picture",src:b,alt:""})}),Object(a.jsxs)("div",{className:"event-card__foreground-details",children:[Object(a.jsx)("h1",{className:"event-card__foreground-details-title",children:d}),Object(a.jsxs)("h2",{className:"event-card__foreground-details-organizer",children:["Hosted by:",Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:"event-card__organizer-pic",src:j.profilePicURL,alt:""}),Object(a.jsx)("span",{children:j.username})]})]}),Object(a.jsxs)("h2",{className:"event-card__foreground-details-ticket-count",children:[Object(a.jsx)("i",{className:"fas fa-ticket-alt"}),Object(a.jsx)("span",{children:"".concat(g," ")}),"out of",Object(a.jsx)("span",{children:" ".concat(N," ")}),"remaining"]})]})]}),Object(a.jsxs)("div",{className:"event-card__background",children:[Object(a.jsx)("img",{className:"event-card__background-image",src:b,alt:""}),Object(a.jsxs)("div",{className:"event-card__background-details",children:[Object(a.jsx)("h1",{className:"event-card__background-title",children:d}),Object(a.jsx)("h2",{className:"event-card__background-summary",children:v}),Object(a.jsxs)("ul",{className:"event-card__background-tickets",children:[Object(a.jsx)("span",{children:"Ticket Types:"}),O.map((function(e){return Object(a.jsx)(oe,{ticket:e},e.id)}))]})]}),Object(a.jsx)("div",{className:"button button--primary",children:"SEE MORE"})]})]},"event-".concat(u))})}n(87);function le(){return Object(a.jsxs)("div",{className:"footer__wrapper",children:[Object(a.jsx)("div",{className:"footer__image-wrapper",children:Object(a.jsx)(u.b,{to:"/",children:Object(a.jsx)("img",{src:"/images/Favicon-Logo.png",alt:""})})}),Object(a.jsxs)("div",{className:"footer__links",children:[Object(a.jsxs)("div",{className:"footer__links-left",children:[Object(a.jsx)("h1",{style:{fontWeight:"bold"},children:"References"}),Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://popdog.com/",children:"Popdog"}),Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.eventbrite.com/",children:"Eventbrite"})]}),Object(a.jsxs)("div",{className:"footer__links-right",children:[Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/sjstark/supdog",children:Object(a.jsx)("i",{className:"fab fa-github-square"})}),Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/samueljamesstark/",children:Object(a.jsx)("i",{className:"fab fa-linkedin"})})]})]})]})}n(88);var de=Object(o.b)((function(e){return{events:e.events,view:e.view}}))((function(e){var t=e.events,n=e.view,r=(e.myEvents,Object(o.c)()),s=Object(c.useState)(!1),i=Object(l.a)(s,2),u=i[0],d=i[1],j=Object(c.useState)("All Events"),b=Object(l.a)(j,2),p=b[0],v=b[1],O=Object(c.useState)(!0),h=Object(l.a)(O,2),x=h[0],g=h[1],N=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",v("All Events"));case 2:if(!t.startsWith("SEARCH:")){e.next=5;break}return n=t.slice(7),e.abrupt("return",v("Search for: ".concat(n)));case 5:if("MY-EVENTS"!==t){e.next=7;break}return e.abrupt("return",v("Your Created Events"));case 7:if(!t.startsWith("CATEGORY:")){e.next=13;break}return a=t.slice(9),e.next=11,_("/api/categories/".concat(a,"/title"));case 11:return c=e.sent,e.abrupt("return",v("Category: ".concat(c.data)));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g(!0)}),[t]),Object(c.useEffect)((function(){if(n&&n.startsWith("SEARCH:"))return Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,r(B(n));case 3:return e.next=5,N(n);case 5:d(!0);case 6:case"end":return e.stop()}}),e)})))();Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,r(V());case 3:return e.next=5,r(Y(0,10,n));case 5:return e.next=7,N(n);case 7:d(!0);case 8:case"end":return e.stop()}}),e)})))()}),[n]);var k=function(){var e=Object(m.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),d(!1),e.next=4,r(Y(t.length,10,n));case 4:(~(c=e.sent)||c.length<10)&&g(!1),d(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"event-display-container",children:[Object(a.jsx)("h1",{className:"event-display-title",children:p}),Object(a.jsx)("ul",{className:"event-display-list",children:u&&Object(a.jsxs)(a.Fragment,{children:[0===t.length&&Object(a.jsx)("div",{style:{height:"50vh"},children:" There are no events for this yet!"}),t&&t.map((function(e){return Object(a.jsx)(ue,{event:e},"event-".concat(e.id))}))]})}),u&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"event-display__show-more-wrapper",children:[Object(a.jsx)("div",{className:"event-display__show-more-line"}),x&&Object(a.jsx)("div",{className:"event-display__show-more-button-wrapper",children:Object(a.jsx)("div",{onClick:k,className:"button button--primary button--large",children:"Load More Events"})}),!x&&Object(a.jsx)("div",{className:"event-display__show-more-button-wrapper",children:Object(a.jsx)("div",{className:"button button--primary button--large button--disabled",children:"All Events Loaded"})})]}),Object(a.jsx)(le,{})]})]})}));n(89);function je(e){var t=e.ticket,n=e.getEvent,r=t.sold>=t.quantity,s=Object(o.d)((function(e){return e.session.user}));Object(c.useEffect)((function(){r=t.sold>=t.quantity}),[t]);var i=function(){var e=Object(m.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),a.target.onClick=null,a.target.classList.add("button--disabled"),e.next=5,_("/api/tickets/".concat(t.id),{method:"POST"});case 5:return(c=a.target.parentElement.querySelector(".success")).classList.add("shown"),setTimeout((function(){c.classList.remove("shown")}),100),a.target.classList.remove("button--disabled"),a.target.onClick=i,e.next=12,n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"ticket-item__wrapper",children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(a.jsx)("h2",{className:"ticket-item__name",children:t.name}),Object(a.jsxs)("h2",{className:"ticket-item__tickets-left",children:[t.quantity-t.sold," Left"]})]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s&&!r&&Object(a.jsx)("div",{onClick:i,className:"button button--small button--primary",children:"Register"}),!s&&!r&&Object(a.jsx)("div",{className:"button button--small button--disabled",style:{fontSize:"10px"},children:"Please Log In "}),r&&Object(a.jsx)("div",{className:"button button--small button--disabled",children:"Sold Out"}),Object(a.jsx)("div",{className:"success",children:"Success!"})]})]})}function be(e){var t=e.date,n=ie.asString("MM/dd",new Date(t.start)),c=ie.asString("hh",new Date(t.start)),r=!1;parseInt(c,10)>12&&(c=parseInt(c,10)-12,r=!0);var s=ie.asString("mm",new Date(t.start)),i=ie.asString("MM/dd",new Date(t.end)),o=ie.asString("hh",new Date(t.end)),u=!1;parseInt(o,10)>12&&(o=parseInt(o,10)-12,u=!0);var l=ie.asString("mm",new Date(t.end));return Object(a.jsx)("div",{className:"event-detail__occurance",children:"".concat(n," @ ").concat(c,":").concat(s).concat(r?"PM":"AM"," - ").concat(i," @ ").concat(o,":").concat(l).concat(u?"PM":"AM")})}n(90);function pe(){var e=Object(p.g)(),t=Object(o.d)((function(e){return e.session.user})),n=Object(p.h)().id,r=Object(c.useState)(null),s=Object(l.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(""),j=Object(l.a)(d,2),b=j[0],v=j[1],O=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/events/".concat(n));case 2:t=e.sent,u(t.data),Object(m.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/events/".concat(t.data.id,"/next-date"));case 2:n=e.sent,a=0===n.data?"Passed":ie.asString("MM/dd",new Date(n.data)),v(a);case 5:case"end":return e.stop()}}),e)})))();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[n]);return Object(a.jsx)(a.Fragment,{children:i&&Object(a.jsxs)("div",{className:"event-details__container",children:[i.organizer&&t&&i.organizer.id===t.id&&Object(a.jsx)("div",{onClick:function(t){e.push("/events/".concat(n,"/edit"))},className:"button event-details__edit-button",children:Object(a.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(a.jsx)("div",{className:"event-details__background-container",children:Object(a.jsx)("div",{className:"event-details__background-image-container",children:Object(a.jsx)("img",{className:"event-details__background-image",src:i.eventPicURL,alt:""})})}),Object(a.jsxs)("div",{className:"event-details__content",children:[Object(a.jsxs)("div",{className:"event-details__header",children:[Object(a.jsx)("div",{className:"event-details__header-left",children:Object(a.jsx)("img",{className:"event-details__header-image",src:i.eventPicURL,alt:""})}),Object(a.jsxs)("div",{className:"event-details__header-right",children:[Object(a.jsx)("h1",{className:"event-detail__header-date",children:b}),Object(a.jsxs)("div",{className:"event-detail__header-details",children:[Object(a.jsx)("h1",{className:"event-detail__header-title",children:i.title}),Object(a.jsxs)("h1",{className:"event-detail__header-organizer",children:["by ",Object(a.jsx)("img",{className:"event-detail__header-organizer-pic",src:i.organizer.profilePicURL,alt:""}),i.organizer.username]})]})]})]}),Object(a.jsxs)("div",{className:"event-details__body",children:[Object(a.jsxs)("div",{className:"event-details__body-left",children:[Object(a.jsx)("span",{children:i.summary}),Object(a.jsx)("h3",{children:"About this Event"}),Object(a.jsx)("p",{children:i.about})]}),Object(a.jsxs)("div",{className:"event-details__body-right",children:[Object(a.jsx)("h1",{style:{fontSize:"24px"},children:"Dates"}),i.eventDates.map((function(e){return Object(a.jsx)(be,{date:e},e.id)})),Object(a.jsx)("h1",{style:{fontSize:"24px"},children:"Tickets"}),i.tickets.map((function(e){return Object(a.jsx)(je,{ticket:e,getEvent:O},e.id)}))]})]})]})]})})}n(91);function ve(e){var t=e.name,n=e.value,r=e.onChange,s=e.required,i=e.rows,o=e.cols,u=e.maxLength,d=Object(c.useState)(!1),j=Object(l.a)(d,2),b=j[0],p=j[1];return Object(a.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.querySelector("textarea").focus()},className:"form-input-field__container".concat(n&&" form-input-field__container--filled"),children:[Object(a.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.parentElement.querySelector("textarea").focus()},className:"form-input-field__name",children:t}),Object(a.jsx)("textarea",{onClick:function(e){return e.stopPropagation()},onFocus:function(e){if(e.stopPropagation(),!b){p(!0);var t=e.target.parentElement;t.classList.add("form-input-field__container--focused"),t.classList.add("form-input-field__container--filled")}},onBlur:function(e){p(!1);var t=e.target.parentElement;t.classList.remove("form-input-field__container--focused"),e.target.value||t.classList.remove("form-input-field__container--filled")},className:"form-input-field__input",value:n,onChange:r,required:s,maxLength:u,rows:i,cols:o})]})}n(92);function fe(e){var t=e.name,n=e.value,r=e.onChange,s=e.required,i=e.options,o=Object(c.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1];return Object(a.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation();var t=document.createEvent("MouseEvents");t.initMouseEvent("mousedown",!0,!0,window),e.target.parentElement.querySelector("select").focus(),e.target.parentElement.querySelector("select").dispatchEvent(t)},className:"form-select__container".concat(n&&" form-select__container--filled"),children:[Object(a.jsx)("div",{className:"form-select__name",children:t}),Object(a.jsxs)("select",{onClick:function(e){return e.stopPropagation()},onFocus:function(e){if(e.stopPropagation(),!d){j(!0);var t=e.target.parentElement;t.classList.add("form-select__container--focused"),t.classList.add("form-select__container--filled")}},onBlur:function(e){j(!1);var t=e.target.parentElement;t.classList.remove("form-select__container--focused"),e.target.value||t.classList.remove("form-select__container--filled")},className:"form-select__input",value:n,onChange:r,required:s,children:[Object(a.jsx)("option",{value:""}),i&&i.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.title},t)}))]})]})}n(93);function me(){var e=Object(p.g)(),t=Object(p.h)().eventId,n=Object(c.useState)(null),r=Object(l.a)(n,2),s=r[0],i=r[1],u=Object(c.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],v=Object(c.useState)(""),O=Object(l.a)(v,2),h=O[0],x=O[1],g=Object(c.useState)(""),N=Object(l.a)(g,2),k=N[0],y=N[1],w=Object(c.useState)([]),S=Object(l.a)(w,2),E=S[0],C=S[1],P=Object(c.useState)(""),L=Object(l.a)(P,2),D=L[0],T=L[1],q=Object(c.useState)(""),I=Object(l.a)(q,2),R=I[0],U=I[1],M=Object(c.useState)((function(){var e=new Date;return ie.asString("yyyy-MM-ddThh:mm",e)})),A=Object(l.a)(M,1)[0],z=Object(c.useState)([]),V=Object(l.a)(z,2),Y=V[0],B=V[1],K=Object(c.useState)(""),H=Object(l.a)(K,2),J=H[0],X=H[1],Z=Object(c.useState)(""),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ne=Object(c.useState)([]),ce=Object(l.a)(ne,2),re=ce[0],se=ce[1],oe=Object(c.useState)(""),ue=Object(l.a)(oe,2),le=ue[0],de=ue[1],je=Object(c.useState)(""),pe=Object(l.a)(je,2),me=pe[0],Oe=pe[1],he=Object(c.useState)([]),xe=Object(l.a)(he,2),ge=xe[0],_e=xe[1],Ne=Object(c.useState)(!1),ke=Object(l.a)(Ne,2),ye=ke[0],we=ke[1],Se=Object(c.useState)(0),Ee=Object(l.a)(Se,2),Ce=Ee[0],Pe=Ee[1],Le=Object(c.useState)(!1),De=Object(l.a)(Le,2),Te=De[0],qe=De[1];Object(c.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/categories");case 2:if(n=e.sent,C(n.data),!t){e.next=16;break}return e.next=7,_("/api/events/".concat(t));case 7:a=e.sent,i(a.data),b(a.data.title),x(a.data.summary),y(a.data.about),T(a.data.categoryId),U(a.data.eventPicURL),B(a.data.eventDates.map((function(e){return{start:e.start,end:e.end,id:e.id}}))),se(a.data.tickets.map((function(e){return{name:e.name,quantity:e.quantity,id:e.id}})));case 16:case"end":return e.stop()}}),e)})))()}),[]),Object(c.useEffect)((function(){!function(){switch(Ce){case 0:j&&j.length>=4&&j.length<=50&&h&&h.length>=5&&h.length<=120&&D?qe(!0):qe(!1);break;case 1:qe(!!R);break;case 2:Y.length>0?qe(!0):qe(!1);break;case 3:re.length>0?qe(!0):qe(!1);break;default:qe(!1)}}()}),[Ce,j,h,k,D,R,Y,re]);var Ie=Object(o.d)((function(e){return e.session.user}));if(!Ie)return Object(a.jsx)(p.a,{to:"/"});var Re=function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),we(!0),_e([]),a={title:j,summary:h,about:k,eventPic:R,categoryId:D,organizer:Ie.id,tickets:JSON.stringify(re),dates:JSON.stringify(Y)},!s){t.next=6;break}return t.abrupt("return",G(s.id,a).then((function(t){if("OK"!==t.statusText)throw t;e.push("/events/".concat(s.id))})).catch((function(e){e.data&&e.data.errors&&(_e(e.data.errors),we(!1))})));case 6:if(s){t.next=8;break}return t.abrupt("return",W(a).then((function(t){if("OK"!==t.statusText)throw t;e.push("/events/".concat(t.data.id))})).catch((function(e){e.data&&e.data.errors&&(_e(e.data.errors),we(!1))})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Fe=function(e){e.preventDefault(),e.stopPropagation(),Pe(Ce+1)},Ue=function(e){e.preventDefault(),e.stopPropagation(),Pe(Ce-1)},Me=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"event-create-form",children:[Object(a.jsx)("h1",{className:"event-create-form__title",children:"Event Details"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Q,{name:"Event Title*",required:!0,maxLength:50,type:"text",value:j,onChange:function(e){var t=e.target;return b(t.value)}}),Object(a.jsx)(ve,{name:"Event Summary*",required:!0,maxLength:120,rows:2,cols:60,value:h,onChange:function(e){var t=e.target;return x(t.value)}}),Object(a.jsx)(ve,{name:"About",required:!0,rows:12,cols:60,value:k,onChange:function(e){var t=e.target;return y(t.value)}}),Object(a.jsx)(fe,{name:"Category*",required:!0,options:E,value:D,onChange:function(e){var t=e.target;return T(t.value)}})]})]}),Object(a.jsxs)("div",{className:"create-event__buttons-container",children:[Object(a.jsx)("div",{className:"button button--warning",onClick:function(){return e.replace("/")},children:"Cancel"}),Te&&Object(a.jsx)("div",{className:"button button--primary",onClick:Fe,children:"Next Step"}),!Te&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:"Next Step"})]})]}),Ae=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"event-image-form",children:[Object(a.jsxs)("div",{className:"event-image-form__header",children:[Object(a.jsx)("h1",{className:"event-create-form__title",children:"Event Image"}),Object(a.jsx)("label",{className:"event-image-form__directions",children:"Event Picture: 2160px x 1080px (2:1 ratio)"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ae,{aspect:2,value:R,onChange:U,height:1080,width:2160})})]}),Object(a.jsxs)("div",{className:"create-event__buttons-container",children:[Object(a.jsx)("div",{className:"button button--warning",onClick:function(){return e.replace("/")},children:"Cancel"}),Object(a.jsx)("div",{className:"button ",onClick:Ue,children:"Previous Step"}),Te&&Object(a.jsx)("div",{className:"button button--primary",onClick:Fe,children:"Next Step"}),!Te&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:"Next Step"})]})]}),ze=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"date-create__wrapper",children:[Object(a.jsxs)("form",{className:"date-create-form",children:[Object(a.jsx)("ul",{children:ge.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))}),Object(a.jsx)("h1",{className:"event-create-form__title",children:"Create Event Date"}),Object(a.jsx)(Q,{name:"Event Start Date",type:"datetime-local",min:A,step:900,value:J,onChange:function(e){var t=e.target;return X(t.value)}}),Object(a.jsx)(Q,{name:"Event End Date",type:"datetime-local",min:J?ie("yyyy-MM-ddThh:mm",new Date(J)):A,step:900,value:ee,onChange:function(e){var t=e.target;return te(t.value)}})]}),Object(a.jsxs)("ul",{className:"date-create-form__eventdates-container",children:[Object(a.jsx)("h1",{className:"event-create-form__title",children:"Entered Event Dates"}),Y&&Y.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsx)(be,{date:e},t),Object(a.jsx)("div",{className:"button button--small button--warning",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){B([].concat(Object(F.a)(Y.slice(0,e)),Object(F.a)(Y.slice(e+1))))}(t)},children:"Remove Date"})]},"eventDate-".concat(e.start,"-").concat(e.end))}))]})]}),Object(a.jsxs)("div",{className:"create-event__buttons-container",children:[Object(a.jsx)("div",{className:"button button--warning",onClick:function(){return e.replace("/")},children:"Cancel"}),Object(a.jsx)("div",{className:"button ",onClick:Ue,children:"Previous Step"}),J&&ee&&Object(a.jsx)("div",{className:"button button--primary",onClick:function(e){e.preventDefault(),e.stopPropagation();var t={start:new Date(J),end:new Date(ee)};B([].concat(Object(F.a)(Y),[t])),X(""),te("")},children:"Add Event Date"}),!(J&&ee)&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:"Add Event Date"}),Te&&Object(a.jsx)("div",{className:"button button--primary",onClick:Fe,children:"Next Step"}),!Te&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:"Next Step"})]})]}),Ve=[Me,Ae,ze,Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"ticket-create__wrapper",children:[Object(a.jsxs)("form",{className:"ticket-create-form",children:[Object(a.jsx)("ul",{children:ge.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))}),Object(a.jsx)("h1",{className:"event-create-form__title",children:"Create Ticket"}),Object(a.jsx)(Q,{name:"Ticket Title",type:"text",value:le,onChange:function(e){var t=e.target;return de(t.value)}}),Object(a.jsx)(Q,{name:"Ticket Quantity",type:"number",value:me,onChange:function(e){var t=e.target;return Oe(t.value)}})]}),Object(a.jsxs)("ul",{className:"ticket-create-form__eventtickets-container",children:[Object(a.jsx)("h1",{className:"event-create-form__title",children:"Entered Tickets"}),re&&re.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("span",{children:["Type: ",e.name," "]}),Object(a.jsxs)("span",{children:["Quanitity: ",e.quantity]}),Object(a.jsx)("div",{className:"button button--small button--warning",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){se([].concat(Object(F.a)(re.slice(0,e)),Object(F.a)(re.slice(e+1))))}(t)},children:"Remove Ticket"})]},"tickets-".concat(e.name,"-").concat(e.quantity))}))]})]}),Object(a.jsxs)("div",{className:"create-event__buttons-container",children:[Object(a.jsx)("div",{className:"button button--warning",onClick:function(){return e.replace("/")},children:"Cancel"}),Object(a.jsx)("div",{className:"button ",onClick:Ue,children:"Previous Step"}),le&&me&&Object(a.jsx)("div",{className:"button button--primary",onClick:function(e){e.preventDefault(),e.stopPropagation();var t={name:le,quantity:me};se([].concat(Object(F.a)(re),[t])),de(""),Oe("")},children:"Add Ticket"}),!(le&&me)&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:"Add Ticket"}),!ye&&Te&&Object(a.jsx)("div",{className:"button button--primary",onClick:Re,children:s?"Update Event":"Create Event"}),(ye||!Te)&&Object(a.jsx)("div",{className:"button button--primary button--disabled",children:s?"Update Event":"Create Event"})]})]})];return Object(a.jsxs)("div",{className:"new-event__form-container",children:[Object(a.jsx)("ul",{children:ge.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))}),Ve[Ce]]})}n(94);var Oe=function(e){var t=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e),n={};for(var a in t){var c=t[a];c/=255,n[a]=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}return.2126*n.r+.7152*n.g+.0722*n.b>.179?"#000000":"#ffffff"};function he(e){var t=e.id,n=e.icon,c=e.title,r=e.color,s=Object(o.c)(),i=Object(p.g)(),u=Oe(r);return Object(a.jsxs)("div",{className:"category-bar__category-wrapper",onClick:function(e){s(D("CATEGORY:".concat(t))),i.push("/")},children:[Object(a.jsx)("div",{className:"category-bar__category-bubble",style:{backgroundColor:r},children:Object(a.jsx)("i",{className:n,style:{color:u}})}),Object(a.jsx)("span",{className:"category-bar__category-title",children:c})]})}function xe(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/categories");case 2:t=e.sent,n=t.data,r(n),u(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(a.jsxs)("div",{className:"category-bar",children:[Object(a.jsx)("h3",{className:"category-bar__title",children:"Categories"}),Object(a.jsx)("div",{className:"category-bar__categories",children:o&&n.map((function(e){return Object(a.jsx)(he,{id:e.id,icon:e.icon,title:e.title,color:e.color},"category-".concat(e.id))}))})]})}var ge=n(26),_e=n(23);n(95);function Ne(e){var t=e.ticketSale,n=e.alter,c=Object(p.g)(),r=t.Ticket,s=r.Event,i=function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),e.next=3,_("/api/tickets/".concat(t.ticketId,"/one"),{method:"DELETE"});case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),e.next=3,_("/api/tickets/".concat(t.ticketId,"/all"),{method:"DELETE"});case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"ticket-card__wrapper",onClick:function(){c.push("/events/".concat(s.id))},children:[Object(a.jsx)("div",{className:"ticket-card__image-wrapper",children:Object(a.jsx)("img",{src:s.eventPicURL,alt:""})}),Object(a.jsxs)("div",{className:"ticket-card__details",children:[Object(a.jsxs)("h1",{className:"ticket-card__title",children:[Object(a.jsx)("span",{className:"ticket-card__title-bold",children:"Event: "}),s.title]}),Object(a.jsxs)("h2",{className:"ticket-card__ticket-name",children:[Object(a.jsx)("span",{className:"ticket-card__title-bold",children:"Ticket Type: "}),r.name]}),Object(a.jsxs)("h3",{className:"ticket-card__owned",children:[Object(a.jsx)("span",{className:"ticket-card__title-bold",children:"Quantity Owned: "}),t.count]}),Object(a.jsxs)("div",{className:"ticket-card__buttons-container",children:[Object(a.jsx)("div",{className:"button button button--primary",onClick:i,children:"Refund One Ticket"}),Object(a.jsx)("div",{className:"button button button--warning",onClick:o,children:"Refund All Tickets"})]})]})]})}function ke(){var e=Object(o.d)((function(e){return e.session.user})),t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/tickets");case 2:t=(t=e.sent).data,n=t.reduce((function(e,t){return e[t.ticketId]?(e[t.ticketId].count++,e):Object(_e.a)(Object(_e.a)({},e),{},Object(ge.a)({},t.ticketId,Object(_e.a)(Object(_e.a)({},t),{},{count:1})))}),{}),s(Object.values(n)),j(!1);case 7:case"end":return e.stop()}}),e)})))()}),[e,d]),Object(a.jsxs)("div",{children:[!e&&Object(a.jsx)("div",{className:"message",children:" Please Log In to view your tickets! "}),e&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"event-display-title",children:"Your Tickets:"}),r&&r.map((function(e,t){return Object(a.jsx)(Ne,{ticketSale:e,alter:j},e.id)})),0===r.length&&Object(a.jsx)("div",{className:"message",children:"Your tickets are empty! Go make some reservations!"})]})]})}var ye,we=Object(o.b)((function(e){return{events:e.events,view:e.view}}))((function(e){var t=e.view,n=Object(o.c)(),r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],u=s[1];return Object(c.useEffect)((function(){n(function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/session");case 2:return n=e.sent,t(w(n.data.user)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return n(Y(0,10,t))})).then((function(){return u(!0)}))}),[n]),Object(a.jsxs)("div",{className:"main-wrapper",children:[Object(a.jsx)(se,{isLoaded:i}),Object(a.jsx)(xe,{isLoaded:i}),Object(a.jsx)("div",{className:"main-content-wrapper",children:i&&Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/events/:eventId/edit",children:Object(a.jsx)(me,{})}),Object(a.jsxs)(p.b,{path:"/events/:id",children:[" ",Object(a.jsx)(pe,{})]}),Object(a.jsxs)(p.b,{path:"/new-event",children:[" ",Object(a.jsx)(me,{})," "]}),Object(a.jsx)(p.b,{path:"/my-tickets",children:Object(a.jsx)(ke,{})}),Object(a.jsx)(p.b,{path:"/my-events",children:Object(a.jsx)(de,{myEvents:!0})}),Object(a.jsxs)(p.b,{path:"/",children:[" ",Object(a.jsx)(de,{myEvents:!1})," "]})]})})]})})),Se=n(18),Ee=n(47),Ce=Object(Se.c)({session:C,events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case M:return Object(F.a)(a);case U:return[].concat(Object(F.a)(e),Object(F.a)(a));case A:return[];default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case P:return a;case L:return null;default:return e}}});ye=Object(Se.a)(Ee.a);var Pe=function(e){return Object(Se.d)(Ce,e,ye)}();function Le(){return Object(a.jsx)(o.a,{store:Pe,children:Object(a.jsx)(u.a,{children:Object(a.jsx)(j,{children:Object(a.jsx)(we,{})})})})}i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Le,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.a6dbf348.chunk.js.map