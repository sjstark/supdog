(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},58:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=(n(49),n(50),n(15)),i=n.n(s),o=n(8),u=n(14),j=n(2),l=(n(58),c.a.createContext());function d(e){var t=e.children,n=Object(a.useRef)(),c=Object(a.useState)(),s=Object(j.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){o(n.current)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.Provider,{value:i,children:t}),Object(r.jsx)("div",{ref:n})]})}function b(e){var t=e.onClose,n=e.children,c=Object(a.useContext)(l);return c?i.a.createPortal(Object(r.jsxs)("div",{id:"modal",children:[Object(r.jsx)("div",{id:"modal-background",onClick:t}),Object(r.jsx)("div",{id:"modal-content",children:n})]}),c):null}var p=n(6),O=n(4),f=n.n(O),v=n(7),h=n(22),x=n.n(h),m=n(42),g=n.n(m);function _(e){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(f.a.mark((function e(t){var n,r,a,c,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=s.length>1&&void 0!==s[1]?s[1]:{}).headers=n.headers||{},n.method=n.method||"GET","GET"!==n.method.toUpperCase()&&(n.headers["XSRF-TOKEN"]=g.a.get("XSRF-TOKEN"),n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json"),e.next=6,window.fetch(t,n);case 6:if(r=e.sent,!(a=r.headers.get("content-type"))||!a.includes("application/json")){e.next=13;break}return e.next=11,r.json();case 11:c=e.sent,r.data=c;case 13:if(!(r.status>=400)){e.next=15;break}throw r;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y="session/setUser",N="session/removeUser",C=function(e){return{type:y,payload:e}},k={user:null};var S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y:return(e=Object.assign({},t)).user=n.payload,e;case N:return(e=Object.assign({},t)).user=null,e;default:return t}},E=n(43),P=n(44);function L(){var e=Object(o.b)(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(o.c)((function(e){return e.session.user}));Object(a.useEffect)((function(){if(c){var e=function(){s(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[c]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{onClick:function(e){c||s(!0)},className:"navbar__user-container",children:[Object(r.jsx)("div",{className:"navbar__user-container-dropdown",children:Object(r.jsx)("i",{class:"fas fa-caret-down"})}),i.profilePicURL&&Object(r.jsx)("img",{className:"navbar__profile-icon",src:i.profilePicURL,alt:""}),!i.profilePicURL&&Object(r.jsx)(E.a,{icon:P.a,className:"navbar__profile-icon"}),Object(r.jsxs)("div",{className:"navbar__profile-dropdown ".concat(c?"navbar__profile-dropdown--shown":"navbar__profile-dropdown--hidden"),children:[Object(r.jsxs)("div",{className:"navbar__dropdown-user-info",children:[Object(r.jsx)("div",{className:"navbar__dropdown-text",children:i.username}),Object(r.jsx)("div",{className:"navbar__dropdown-text",children:i.email})]}),Object(r.jsxs)("div",{className:"navbar__dropdown-links",children:[Object(r.jsx)(u.b,{className:"navbar__dropdown-link",to:"/new-event",children:"Create A New Event"}),Object(r.jsx)(u.b,{className:"navbar__dropdown-link",to:"/",children:"My Events"}),Object(r.jsx)(u.b,{className:"navbar__dropdown-link",to:"/",children:"My Tickets"}),Object(r.jsx)("div",{className:"navbar__dropdown-link",onClick:function(t){t.preventDefault(),e(function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/session",{method:"DELETE"});case 2:e.sent,t({type:N});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})]})]})]})})}n(79);function F(e){var t=e.name,n=e.type,c=e.value,s=e.onChange,i=e.required,o=Object(a.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1];return Object(r.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.querySelector("input").focus()},className:"form-input__container",children:[Object(r.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.parentElement.querySelector("input").focus()},className:"form-input__name",children:t}),Object(r.jsx)("input",{onClick:function(e){return e.stopPropagation()},onFocus:function(e){if(e.stopPropagation(),!l){d(!0);var t=e.target.parentElement;t.classList.add("form-input__container--focused"),t.classList.add("form-input__container--filled")}},onBlur:function(e){d(!1);var t=e.target.parentElement;t.classList.remove("form-input__container--focused"),e.target.value||t.classList.remove("form-input__container--filled")},className:"form-input__input",type:n,value:c,onChange:s,required:i})]})}n(80);function T(){var e=Object(o.b)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(a.useState)([]),p=Object(j.a)(b,2),O=p[0],h=p[1];return Object(r.jsxs)("form",{className:"login-form",children:[Object(r.jsxs)("h2",{children:["Login to ",Object(r.jsx)("span",{style:{fontFamily:"'Pacifico', cursive"},children:"'SupDog"})]}),O.length>0&&Object(r.jsx)("ul",{children:O.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("div",{className:"login-form__input-fields",children:[Object(r.jsx)(F,{name:"Email or Username",required:!0,type:"text",value:c,onChange:function(e){var t=e.target;return s(t.value)}}),Object(r.jsx)(F,{name:"Password",required:!0,type:"password",value:l,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(r.jsx)("div",{className:"button button--primary",onClick:function(t){return t.preventDefault(),h([]),e((n={credential:c,password:l},function(){var e=Object(v.a)(f.a.mark((function e(t){var r,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.credential,a=n.password,c={credential:r,password:a},e.next=5,_("/api/session",{method:"POST",body:JSON.stringify(c)});case 5:return s=e.sent,t(C(s.data.user)),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){e.data&&e.data.errors&&h(e.data.errors)}));var n},children:"Log In"})]})}function D(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"navbar__button",onClick:function(){c(!0)},children:"Log In"}),n&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(b,{onClose:function(){return c(!1)},children:Object(r.jsx)(T,{})})})]})}n(30);var q=n(46),U=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))},R=function(){var e=Object(v.a)(f.a.mark((function e(t,n){var r,a,c,s,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:250,a=o.length>3&&void 0!==o[3]?o[3]:250,e.next=4,U(t);case 4:return c=e.sent,s=document.createElement("canvas"),i=s.getContext("2d"),s.width=r,s.height=a,i.drawImage(c,n.x,n.y,n.width,n.height,0,0,s.width,s.height),e.abrupt("return",new Promise((function(e){s.toBlob((function(t){e(t)}),"image/jpeg")})));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){var t=e.getBlob,n=e.inputImg,c=e.aspect,s=void 0===c?1:c,i=e.width,o=void 0===i?250:i,u=e.height,l=void 0===u?250:u,d=Object(a.useState)({x:0,y:0}),b=Object(j.a)(d,2),p=b[0],O=b[1],h=Object(a.useState)(1),x=Object(j.a)(h,2),m=x[0],g=x[1],_=function(){var e=Object(v.a)(f.a.mark((function e(r,a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(n,a,o,l);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"cropper",children:Object(r.jsx)(q.a,{image:n,crop:p,zoom:m,aspect:s,onCropChange:O,onCropComplete:_,onZoomChange:g})})},A=(n(81),function(e){var t=e.aspect,n=e.onChange,c=e.width,s=e.height,i=Object(a.useState)(null),o=Object(j.a)(i,2),u=(o[0],o[1]),l=Object(a.useState)(""),d=Object(j.a)(l,2),b=d[0],p=d[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.addEventListener("load",(function(){p(n.result)}),!1),t&&n.readAsDataURL(t)}}),Object(r.jsx)("div",{className:"image-cropper__container",children:Object(r.jsx)(I,{getBlob:function(e){u(e),n(e)},inputImg:b,aspect:t,width:c,height:s})})]})});n(82);function z(){var e=Object(o.b)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(a.useState)(""),O=Object(j.a)(b,2),h=O[0],m=O[1],g=Object(a.useState)(""),_=Object(j.a)(g,2),w=_[0],y=_[1],N=Object(a.useState)(""),k=Object(j.a)(N,2),S=k[0],E=k[1],P=Object(a.useState)(""),L=Object(j.a)(P,2),T=L[0],D=L[1],q=Object(a.useState)(null),U=Object(j.a)(q,2),R=U[0],I=U[1],z=Object(a.useState)([]),B=Object(j.a)(z,2),M=B[0],J=B[1],K=Object(a.useState)(!1),G=Object(j.a)(K,2),Q=(G[0],G[1]);if(Object(o.c)((function(e){return e.session.user})))return Object(r.jsx)(p.a,{to:"/"});return Object(r.jsxs)("form",{className:"signup-form",children:[Object(r.jsxs)("h2",{children:["Sign Up for ",Object(r.jsx)("span",{style:{fontFamily:"'Pacifico', cursive"},children:"'SupDog"})]}),M.length>0&&Object(r.jsx)("ul",{children:M.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("div",{className:"signup-form__inputs-container",children:[Object(r.jsxs)("div",{className:"signup-form__input-fields",children:[Object(r.jsx)(F,{name:"First Name",required:!0,type:"text",value:c,onChange:function(e){var t=e.target;return s(t.value)}}),Object(r.jsx)(F,{name:"Last Name",required:!0,type:"text",value:l,onChange:function(e){var t=e.target;return d(t.value)}}),Object(r.jsx)(F,{name:"Email",required:!0,type:"text",value:h,onChange:function(e){var t=e.target;return m(t.value)}}),Object(r.jsx)(F,{name:"Username",required:!0,type:"text",value:w,onChange:function(e){var t=e.target;return y(t.value)}}),Object(r.jsx)(F,{name:"Password",required:!0,type:"password",value:S,onChange:function(e){var t=e.target;return E(t.value)}}),Object(r.jsx)(F,{name:"Confirm Password",required:!0,type:"password",value:T,onChange:function(e){var t=e.target;return D(t.value)}})]}),Object(r.jsxs)("div",{className:"signup-form__profile-pic",children:[Object(r.jsx)("h2",{children:"Select a Profile Picture"}),Object(r.jsx)("span",{children:"After selection image, drag to position and scroll to zoom."}),Object(r.jsx)(A,{aspect:1,onChange:I})]})]}),Object(r.jsx)("div",{className:"button button--primary",onClick:function(t){t.preventDefault(),J([]);var n=[];return T!==S?(n.push("Please make sure passwords match!"),J(n)):(Q(!0),e(function(e){return function(){var t=Object(v.a)(f.a.mark((function t(n){var r,a,c,s,i,o,u,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.profilePic,a=e.firstName,c=e.lastName,s=e.username,i=e.password,o=e.email,(u=new FormData).append("firstName",a),u.append("lastName",c),u.append("username",s),u.append("password",i),u.append("email",o),r&&u.append("profilePic",r),j={headers:{"content-type":"multipart/form-data"}},t.abrupt("return",x.a.post("/api/users/",u,j).then((function(e){var t=e.data;return n(C(t))})).catch((function(e){return e.response})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:h,username:w,firstName:c,lastName:l,profilePic:R,password:S})).then((function(e){if("OK"!==e.statusText)throw e;return e})).catch((function(e){e.data&&e.data.errors&&(J(e.data.errors),Q(!1))})))},children:"Sign Up"})]})}function B(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"navbar__button navbar__button--primary",onClick:function(){c(!0)},children:"Sign Up"}),n&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(b,{onClose:function(){return c(!1)},children:Object(r.jsx)(z,{})})})]})}n(83);function M(e){var t,n=e.isLoaded;return t=Object(o.c)((function(e){return e.session.user}))?Object(r.jsx)(L,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{}),Object(r.jsx)(B,{})]}),Object(r.jsxs)("div",{className:"navbar__container",children:[Object(r.jsx)(u.b,{className:"navbar__logo",exact:!0,to:"/",children:Object(r.jsx)("img",{src:"/images/'SupDog-Logo.png",width:"150px"})}),Object(r.jsxs)("div",{className:"navbar__right-container",children:[Object(r.jsx)("div",{className:"navbar__search",children:Object(r.jsx)("i",{class:"fas fa-search"})}),Object(r.jsx)("div",{className:"navbar__links",children:n&&t})]})]})}n(84);function J(e){var t=e.event,n=t.id,a=t.title,c=t.organizer,s=t.eventPicURL,i=t.summary;t.about;return Object(r.jsxs)("div",{className:"event-card__wrapper",children:[Object(r.jsxs)("div",{className:"event-card__foreground",children:[Object(r.jsx)("div",{className:"event-card__picture-wrapper",children:Object(r.jsx)("img",{className:"event-card__picture",src:s,alt:""})}),Object(r.jsxs)("div",{className:"event-card__foreground-details",children:[Object(r.jsx)("h1",{children:a}),Object(r.jsxs)("h2",{children:[Object(r.jsx)("img",{}),Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("h2",{children:[Object(r.jsx)("i",{className:"fas fa-ticket-alt"}),Object(r.jsx)("span",{children:"128"}),"Left /",Object(r.jsx)("span",{children:"250"}),"Avail"]})]})]}),Object(r.jsxs)("div",{className:"event-card__background",children:[Object(r.jsx)("img",{className:"event-card__background-image",src:s,alt:""}),Object(r.jsxs)("div",{className:"event-card__background-details",children:[Object(r.jsx)("h1",{children:a}),Object(r.jsx)("h2",{children:i}),Object(r.jsx)("div",{className:"event-card__background-stats"}),Object(r.jsx)("div",{className:"button button--primary",children:"SEE MORE"})]})]})]},"event-".concat(n))}function K(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/events");case 2:t=e.sent,n=t.data.events,c(n);case 5:case"end":return e.stop()}}),e)}))),[]),Object(r.jsx)("ul",{children:n&&n.slice(0,1).map((function(e){return Object(r.jsx)(J,{event:e},"event-".concat(e.id))}))})}var G=n(23),Q=n(31),X="events/addEvent",Z=function(e){var t=e.title,n=e.summary,r=e.organizer,a=e.about,c=e.eventPic,s=e.tickets,i=new FormData;i.append("title",t),i.append("summary",n),i.append("organizer",r),i.append("tickets",s),a&&i.append("about",a),c&&i.append("eventPic",c);return x.a.post("/api/events/",i,{headers:{"content-type":"multipart/form-data"}}).catch((function(e){return e.response}))},$={events:null};function H(){var e=Object(p.g)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(a.useState)(""),O=Object(j.a)(b,2),h=O[0],x=O[1],m=Object(a.useState)(null),g=Object(j.a)(m,2),_=g[0],w=g[1],y=Object(a.useState)([]),N=Object(j.a)(y,2),C=N[0],k=N[1],S=Object(a.useState)(""),E=Object(j.a)(S,2),P=E[0],L=E[1],F=Object(a.useState)(0),T=Object(j.a)(F,2),D=T[0],q=T[1],U=Object(a.useState)([]),R=Object(j.a)(U,2),I=R[0],z=R[1],B=Object(a.useState)(!1),M=Object(j.a)(B,2),J=M[0],K=M[1],Q=Object(a.useState)(0),X=Object(j.a)(Q,2),$=X[0],H=X[1],V=Object(o.c)((function(e){return e.session.user}));if(!V)return Object(r.jsx)(p.a,{to:"/"});var W=function(){var t=Object(v.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),K(!0),z([]),r={title:c,summary:l,about:h,eventPic:_,organizer:V.id,tickets:JSON.stringify(C)},t.abrupt("return",Z(r).then((function(t){if("OK"!==t.statusText)throw t;e.push("/")})).catch((function(e){e.data&&e.data.errors&&(z(e.data.errors),K(!1))})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=Object(r.jsxs)("form",{className:"event-create-form",children:[Object(r.jsx)("ul",{children:I.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:["Event Title:",Object(r.jsx)("input",{type:"text",value:c,onChange:function(e){var t=e.target;return s(t.value)}})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:["Summary:",Object(r.jsx)("textarea",{rows:2,cols:50,value:l,onChange:function(e){var t=e.target;return d(t.value)}})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:["About:",Object(r.jsx)("textarea",{value:h,rows:10,cols:50,onChange:function(e){var t=e.target;return x(t.value)}})]})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{children:["Event Picture:",Object(r.jsx)("span",{children:"2160px x 1080px (2:1 ratio)"})]}),Object(r.jsx)(A,{aspect:2,onChange:w,height:1080,width:2160})]}),Object(r.jsx)("button",{onClick:function(){return e.replace("/")},children:"Cancel Event Creation"}),!J&&Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),H($+1)},children:"Next Step"}),J&&Object(r.jsx)("button",{disabled:!0,children:"Next Step"})]}),ee=[Y,Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{onSubmit:W,className:"ticket-create-form",children:[Object(r.jsx)("ul",{children:I.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:["Ticket Title:",Object(r.jsx)("input",{type:"text",value:P,onChange:function(e){var t=e.target;return L(t.value)}})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:["Quantity Available:",Object(r.jsx)("input",{type:"number",value:D,onChange:function(e){var t=e.target;return q(t.value)}})]})}),Object(r.jsx)("button",{onClick:function(){return e.replace("/")},children:"Cancel Event Creation"}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),H($-1)},children:"Go Back"}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation();var t={name:P,quantity:D};k([].concat(Object(G.a)(C),[t])),L(""),q(0)},children:"Create Current Ticket"}),C.length>=1&&Object(r.jsx)("button",{type:"submit",children:"Create Event"}),!(C.length>=1)&&Object(r.jsx)("button",{disabled:!0,type:"submit",children:"Create Event"})]}),Object(r.jsx)("ul",{children:C&&C.map((function(e,t){return Object(r.jsxs)("li",{children:[Object(r.jsxs)("span",{children:["Ticket Type: ",e.name," "]}),Object(r.jsxs)("span",{children:["Quanitity: ",e.quantity]}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){k([].concat(Object(G.a)(C.slice(0,e)),Object(G.a)(C.slice(e+1))))}(t)},children:"Remove Ticket"})]},e.name)}))})]})];return Object(r.jsx)(r.Fragment,{children:ee[$]})}n(85);var V=function(e){var t=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e),n={};for(var r in t){var a=t[r];a/=255,n[r]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*n.r+.7152*n.g+.0722*n.b>.179?"#000000":"#ffffff"};function W(e){var t=e.icon,n=e.title,a=e.color,c=V(a);return Object(r.jsxs)("div",{className:"category-bar__category-wrapper",children:[Object(r.jsx)("div",{className:"category-bar__category-bubble",style:{backgroundColor:a},children:Object(r.jsx)("i",{className:t,style:{color:c}})}),Object(r.jsx)("span",{className:"category-bar__category-title",children:n})]})}function Y(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(j.a)(s,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/categories");case 2:t=e.sent,n=t.data,c(n),u(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(r.jsxs)("div",{className:"category-bar",children:[Object(r.jsx)("h3",{className:"category-bar__title",children:"Categories"}),Object(r.jsx)("div",{className:"category-bar__categories",children:o&&n.map((function(e){return Object(r.jsx)(W,{icon:e.icon,title:e.title,color:e.color},"category-".concat(e.id))}))})]})}var ee,te=function(){var e=Object(o.b)(),t=Object(a.useState)(null),n=Object(j.a)(t,2),c=(n[0],n[1],Object(a.useState)(!1)),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){e(function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("/api/session");case 2:return n=e.sent,t(C(n.data.user)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return u(!0)}))}),[e]),Object(r.jsxs)("div",{className:"main-wrapper",children:[Object(r.jsx)(M,{isLoaded:i}),Object(r.jsx)(Y,{isLoaded:i}),Object(r.jsx)("div",{className:"main-content-wrapper",children:i&&Object(r.jsxs)(p.d,{children:[Object(r.jsxs)(p.b,{path:"/new-event",children:[" ",Object(r.jsx)(H,{})," "]}),Object(r.jsxs)(p.b,{path:"/image-test",children:[" ",Object(r.jsx)(A,{aspect:1})," "]}),Object(r.jsx)(p.b,{path:"/",render:function(){return Object(r.jsx)(K,{})}})]})})]})},ne=n(16),re=n(45),ae=Object(ne.c)({session:S,event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case X:return Object(Q.a)(Object(Q.a)({},e),r);default:return e}}});ee=Object(ne.a)(re.a);var ce=function(e){return Object(ne.d)(ae,e,ee)}();function se(){return Object(r.jsx)(o.a,{store:ce,children:Object(r.jsx)(u.a,{children:Object(r.jsx)(d,{children:Object(r.jsx)(te,{})})})})}i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(se,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.9327b900.chunk.js.map