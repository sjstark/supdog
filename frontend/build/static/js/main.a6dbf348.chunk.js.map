{"version":3,"sources":["context/Modal.js","store/csrf.js","store/session.js","store/view.js","components/Navigation/ProfileButton.js","store/event.js","components/Navigation/SearchButton.js","components/FormInput/index.js","components/LoginFormModal/LoginForm.js","components/LoginFormModal/index.js","components/ImageCropper/cropImage.js","components/ImageCropper/ImageCropper.js","components/ImageCropper/ImageInput.js","components/SignupFormPage/SignupForm.js","components/SignupFormPage/index.js","components/Navigation/index.js","components/EventCard/index.js","components/Footer/index.js","components/EventDisplay/index.js","components/TicketItem/index.js","components/DateItem/index.js","components/EventDetails/index.js","components/FormInputField/index.js","components/FormDropDown/index.js","components/NewEventForm/index.js","components/CategoryBar/index.js","components/TicketsDisplay/TicketCard.js","components/TicketsDisplay/index.js","App.js","store/index.js","index.js"],"names":["ModalContext","React","createContext","ModalProvider","children","modalRef","useRef","useState","value","setValue","useEffect","current","Provider","ref","Modal","onClose","modalNode","useContext","ReactDOM","createPortal","id","onClick","fetch","url","a","options","headers","method","toUpperCase","Cookies","get","window","res","contentType","includes","json","data","status","SET_USER","REMOVE_USER","setUser","user","type","payload","login","dispatch","credential","password","body","JSON","stringify","initialState","sessionReducer","newState","state","action","Object","assign","SET_VIEW","CLEAR_VIEW","changeView","newView","clearView","ProfileButton","useDispatch","history","useHistory","showMenu","setShowMenu","profilePic","setProfilePic","sessionUser","useSelector","session","closeMenu","document","addEventListener","removeEventListener","profilePicURL","e","className","src","encodeURI","Date","toISOString","alt","icon","faUserCircle","username","email","to","preventDefault","push","ADD_EVENTS","SET_EVENTS","CLEAR_EVENTS","addEvents","events","clearEvents","loadMoreEvents","start","amount","view","startsWith","categoryId","slice","searchQuery","length","loadInitialEvents","createNewEvent","event","title","summary","organizer","about","eventPic","tickets","dates","formData","FormData","append","Axios","post","catch","err","response","updateEvent","eventId","newEvent","put","SearchField","searchValue","setSearchValue","closeSearch","searchRef","focus","placeholder","onChange","target","onKeyUp","stopPropagation","key","SearchButton","showSearchBar","setShowSearchBar","timeoutId","setTimeout","clearTimeout","FormInput","name","required","maxLength","min","step","focused","setFocused","querySelector","parentElement","onFocus","wrapper","classList","add","onBlur","remove","LoginForm","setCredential","setPassword","errors","setErrors","style","fontFamily","map","error","idx","sessionActions","LoginFormModal","showModal","setShowModal","createImage","Promise","resolve","reject","image","Image","setAttribute","getCroppedImg","imageSrc","crop","width","height","canvas","createElement","ctx","getContext","drawImage","x","y","toBlob","blob","ImageCropper","getBlob","inputImg","aspect","setCrop","zoom","setZoom","onCropComplete","_","croppedAreaPixels","croppedImage","onCropChange","onZoomChange","ImageInput","setBlob","setInputImg","blobURL","setBlobURL","fileName","setFileName","urlCreator","URL","webkitURL","createObjectURL","accept","file","files","reader","FileReader","result","readAsDataURL","display","SignupForm","firstName","setFirstName","lastName","setLastName","setEmail","setUsername","confirmPassword","setConfirmPassword","setSending","newErrors","config","axios","then","statusText","SignupFormModal","Navigation","sessionLinks","isLoaded","TicketItem","ticket","EventCard","nextDate","setNextDate","eventPicURL","reduce","acc","quantity","sold","left","avail","date","formatDate","Footer","fontWeight","rel","href","connect","myEvents","setIsLoaded","viewName","setViewName","loadMore","setLoadMore","changeViewName","searchParam","getMoreEvents","loadedEvents","getEvent","isSoldOut","registerUser","successEl","justifyContent","alignItems","fontSize","DateItem","startDay","startTimeHour","startPM","parseInt","startTimeMinute","endDay","end","endTimeHour","endPM","endTimeMinute","EventDetails","useParams","setEvent","dateRes","eventDates","FormInputField","rows","cols","createEvent","initMouseEvent","dispatchEvent","option","NewEventForm","setTitle","setSummary","setAbout","categories","setCategories","setCategoryId","setEventPic","now","today","setEventDates","eventStartDateTime","setEventStartDateTime","eventEndDateTime","setEventEndDateTime","setTickets","ticketType","setTicketType","ticketQty","setTicketQty","sending","setStep","isComplete","setIsComplete","categoriesJSON","eventJSON","eventDate","checkIsComplete","handleSubmit","nextPage","lastPage","EventDetailsForm","replace","EventImageForm","EventDatesForm","removeDate","newEventDate","formSteps","removeTicket","getFontColor","backgroundColor","color","hex","exec","r","g","b","hexToRgb","tracker","c","Math","pow","Category","fontColor","CategoryBar","catLoaded","setCatLoaded","category","TicketCard","ticketSale","alter","Ticket","Event","refundOne","ticketId","refundAll","count","TicketsDisplay","altered","setAltered","ticketsJSON","values","enhancer","path","rootReducer","combineReducers","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","Root","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a6dbf348.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect, useContext } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './Modal.css'\n\nconst ModalContext = React.createContext()\n\nexport function ModalProvider({ children }) {\n  const modalRef = useRef()\n\n  const [value, setValue] = useState()\n\n  useEffect(() => {\n    setValue(modalRef.current)\n  }, [])\n\n  return (\n    <>\n      <ModalContext.Provider value={value}>\n        {children}\n      </ModalContext.Provider>\n      <div ref={modalRef} />\n    </>\n  )\n}\n\nexport function Modal({ onClose, children }) {\n  const modalNode = useContext(ModalContext)\n\n  if (!modalNode) return null\n\n  return ReactDOM.createPortal(\n    <div id='modal'>\n      <div id='modal-background' onClick={onClose} />\n      <div id='modal-content'>\n        {children}\n      </div>\n    </div>,\n    modalNode\n  )\n}\n","import Cookies from 'js-cookie';\n\n\n//\n// ─── FETCH FUNCTION ─────────────────────────────────────────────────────────────\n//\n// Creates a fetch function that is wrapped in the window global object in order\n// to set an XSRF-TOKEN header on the fetch call\n\n\nexport async function fetch(url, options={}) {\n  options.headers = options.headers || {};\n\n  options.method = options.method || 'GET'\n\n  if (options.method.toUpperCase() !== 'GET') {\n    options.headers['XSRF-TOKEN'] = Cookies.get('XSRF-TOKEN')\n    options.headers['Content-Type'] =\n      options.headers['Content-Type'] || 'application/json'\n  }\n\n  const res = await window.fetch(url, options);\n\n  const contentType = res.headers.get('content-type');\n  if (contentType && contentType.includes('application/json')) {\n    const data = await res.json();\n    res.data = data\n  }\n\n  if (res.status >= 400) throw res;\n\n  return res;\n}\n\n//\n// ─── RESTORE CSRF ───────────────────────────────────────────────────────────────\n//\n// Makes a call to the API backend in development for the XSRF-TOKEN\n\nexport function restoreCSRF() {\n  return fetch('/api/csrf/restore')\n}\n","import axios from 'axios'\n\nimport { fetch } from './csrf'\n\nconst SET_USER = 'session/setUser'\nconst REMOVE_USER = 'session/removeUser'\n\nconst setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n})\n\nconst endSession = () => ({\n  type: REMOVE_USER\n})\n\nexport const login = (user) => {\n  return async dispatch => {\n    const { credential, password } = user;\n\n    const method = 'POST'\n    const body = {\n      credential,\n      password\n    }\n\n    const res = await fetch('/api/session', { method, body: JSON.stringify(body) })\n\n    dispatch(setUser(res.data.user))\n\n    return res\n  }\n}\n\nexport const restoreUser = () => {\n  return async dispatch => {\n    const res = await fetch('/api/session')\n\n    dispatch(setUser(res.data.user))\n\n    return res\n  }\n}\n\nexport const signup = (user) => {\n  return async dispatch => {\n    const { profilePic, firstName, lastName, username, password, email } = user;\n    const formData = new FormData();\n    formData.append('firstName', firstName)\n    formData.append('lastName', lastName)\n    formData.append('username', username)\n    formData.append('password', password)\n    formData.append('email', email)\n    if (profilePic) {\n      formData.append('profilePic', profilePic)\n    }\n\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    }\n\n    return axios.post('/api/users/', formData, config)\n      .then(res => {\n        const user = res.data;\n        return dispatch(setUser(user))\n      })\n      .catch((err) => {\n        return err.response\n      })\n  }\n}\n\n\nexport const logout = () => {\n  return async dispatch => {\n    const res = await fetch('/api/session', {\n      method: 'DELETE'\n    })\n\n    dispatch(endSession())\n  }\n}\n\n\nlet initialState = { user: null }\n\nfunction sessionReducer(state = initialState, action) {\n  let newState;\n  switch (action.type) {\n\n    case SET_USER:\n      newState = Object.assign({}, state)\n      newState.user = action.payload\n      return newState\n\n    case REMOVE_USER:\n      newState = Object.assign({}, state)\n      newState.user = null\n      return newState\n\n    default:\n      return state\n  }\n}\n\nexport default sessionReducer\n","const SET_VIEW = 'view/setView'\nconst CLEAR_VIEW = 'view/clearView'\n\nconst _setView = (view) => ({\n  type: SET_VIEW,\n  payload: view\n})\n\nconst _clearView = () => ({\n  type: CLEAR_VIEW\n})\n\nexport const changeView = (newView) => {\n  return dispatch => {\n    return dispatch(_setView(newView))\n  }\n}\n\nexport const clearView = () => {\n  return dispatch => {\n    return dispatch(_clearView())\n  }\n}\n\nexport default (state = null, { type, payload }) => {\n  switch (type) {\n\n    case SET_VIEW:\n      return payload\n\n    case CLEAR_VIEW:\n      return null\n\n    default:\n      return state\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { logout } from '../../store/session'\nimport { changeView, clearView } from '../../store/view'\n\nimport {fetch} from '../../store/csrf'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport default function ProfileButton() {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [showMenu, setShowMenu] = useState(false)\n  const [profilePic, setProfilePic] = useState(null)\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  const openMenu = (e) => {\n    if (!showMenu) {\n      setShowMenu(true)\n    }\n  }\n\n  useEffect(() => {\n    if (!showMenu) return\n\n    const closeMenu = () => {\n      setShowMenu(false)\n    }\n\n    document.addEventListener('click', closeMenu)\n\n    return () => {\n      document.removeEventListener('click', closeMenu)\n    }\n  }, [showMenu])\n\n  useEffect(() => {\n    (async () => {\n      let res = await fetch(`/api/session`)\n      setProfilePic(res.data.user.profilePicURL)\n    })();\n  }, [sessionUser])\n\n\n  const handleLogout = (e) => {\n    e.preventDefault()\n    dispatch(logout())\n    dispatch(clearView())\n    history.push('/')\n  }\n\n  const setMyEvents = (e) => {\n    e.preventDefault()\n    dispatch(changeView(`MY-EVENTS`))\n    history.push('/')\n  }\n\n  return (\n    <>\n      <div onClick={openMenu} className=\"navbar__user-container\">\n        <div className=\"navbar__user-container-dropdown\">\n          <i className=\"fas fa-caret-down\"></i>\n        </div>\n        {profilePic && (<img className=\"navbar__profile-icon\" src={profilePic + `?uniqueQuery=${encodeURI((new Date()).toISOString())}`} alt=\"\" />)}\n        {!profilePic && <FontAwesomeIcon icon={faUserCircle} className=\"navbar__profile-icon--default\" />}\n\n        <div className={`navbar__profile-dropdown ${showMenu ? \"navbar__profile-dropdown--shown\" : \"navbar__profile-dropdown--hidden\"}`}>\n          <div className=\"navbar__dropdown-user-info\">\n            <div className=\"navbar__dropdown-text\">{sessionUser.username}</div>\n            <div className=\"navbar__dropdown-text\">{sessionUser.email}</div>\n          </div>\n          <div className=\"navbar__dropdown-links\">\n            <Link className='navbar__dropdown-link' to=\"/new-event\">Create A New Event</Link>\n            <div className='navbar__dropdown-link' onClick={setMyEvents}>My Events</div>\n            <Link className='navbar__dropdown-link' to=\"/my-tickets\">My Tickets</Link>\n            <div className='navbar__dropdown-link' onClick={handleLogout}>Log Out</div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import Axios from 'axios'\n\nimport { fetch } from './csrf'\n\nconst ADD_EVENTS = 'events/addEvents'\nconst SET_EVENTS = 'events/setEvents'\n// const GET_N_EVENTS = 'events/getNEvents'\n// const GET_ALL_EVENTS = 'events/getALLEvents'\nconst CLEAR_EVENTS = 'events/clearEvents'\n\n//events is an array\nconst setEvents = (events) => ({\n  type: SET_EVENTS,\n  payload: events\n})\n\n//events is an array\nconst addEvents = (events) => ({\n  type: ADD_EVENTS,\n  payload: events\n})\n\nconst _clearEvents = () => ({\n  type: CLEAR_EVENTS\n})\n\n// const getNEvents = (start = 0, amount = 10) => ({\n//   type: GET_N_EVENTS,\n//   payload: {\n//     start,\n//     amount\n//   }\n// })\n\n// const getAllEvents = () => ({\n//   type: GET_ALL_EVENTS,\n// })\n\n// export const getCurrentEvents = () => {\n//   return dispatch => {\n//     return dispatch(getAllEvents())\n//   }\n// }\n\nexport const clearEvents = () => {\n  return dispatch => {\n    return dispatch(_clearEvents())\n  }\n}\n\nexport const loadMoreEvents = (start, amount, view) => {\n  return async dispatch => {\n\n    let res;\n    if (view && view.startsWith('CATEGORY:')) {\n      let categoryId = view.slice(9)\n      res = await fetch(`/api/categories/${categoryId}?start=${start}&amoount=${amount}`)\n    }\n    else if (view && view.startsWith('SEARCH:')) {\n      let searchQuery = encodeURI(view.slice(7))\n      res = await fetch(`/api/events/search?start=${start}&amount=${amount}&search=${searchQuery}`)\n    }\n    else if (view && view === 'MY-EVENTS' ) {\n      res = await fetch(`/api/events/my-events?start=${start}&amount=${amount}`)\n    }\n    else {\n      res = await fetch(`/api/events?start=${start}&amount=${amount}`)\n    }\n\n    let { events } = res.data\n    if (events && events.length >= 1) {return dispatch(addEvents(events))}\n  }\n}\n\nexport const loadInitialEvents = (view) => {\n  return async dispatch => {\n    await dispatch(clearEvents())\n    return await dispatch(loadMoreEvents(0, 10, view))\n  }\n}\n\nexport const createNewEvent = (event) => {\n  const { title, summary, categoryId, organizer, about, eventPic, tickets, dates } = event\n\n  const formData = new FormData();\n  formData.append('title', title)\n  formData.append('summary', summary)\n  formData.append('organizer', organizer)\n  formData.append('categoryId', categoryId)\n  formData.append('tickets', tickets)\n  formData.append('eventDates', dates)\n  if (about) {\n    formData.append('about', about)\n  }\n  if (eventPic) {\n    formData.append('eventPic', eventPic)\n  }\n\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  }\n\n\n  return Axios.post('/api/events/', formData, config)\n    .catch((err) => {\n      return err.response\n    })\n\n}\n\nexport const updateEvent = (eventId, newEvent) => {\n  const { title, summary, categoryId, organizer, about, eventPic, tickets, dates } = newEvent\n\n  const formData = new FormData();\n  formData.append('eventId', eventId)\n  formData.append('title', title)\n  formData.append('summary', summary)\n  formData.append('organizer', organizer)\n  formData.append('categoryId', categoryId)\n  formData.append('tickets', tickets)\n  formData.append('eventDates', dates)\n  if (about) {\n    formData.append('about', about)\n  }\n  if (eventPic) {\n    formData.append('eventPic', eventPic)\n  }\n\n  const config = {\n    method: 'PUT',\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  }\n\n  return Axios.put('/api/events/', formData, config)\n    .catch((err) => {\n      return err.response\n    })\n}\n\nconst initialState = []\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n\n    case SET_EVENTS:\n      return [...payload]\n\n    case ADD_EVENTS:\n      return [...state, ...payload]\n\n    case CLEAR_EVENTS:\n      return []\n\n    default:\n      return state\n  }\n}\n","import React, { useState, useEffect, useRef } from 'react'\n\nimport { useDispatch } from 'react-redux'\nimport { clearEvents } from '../../store/event'\n\nimport { changeView } from '../../store/view'\n\nfunction SearchField({ searchValue, setSearchValue, closeSearch }) {\n  const searchRef = useRef(null)\n\n  useEffect(() => {\n    searchRef.current.focus()\n  }, [])\n\n  const checkEnter = (e) => {\n    e.stopPropagation()\n\n    if (e.key !== 'Enter') return\n    closeSearch()\n  }\n\n  return (\n    <input ref={searchRef} type='text' placeholder=\"Search for event titles\" value={searchValue} onChange={(e) => setSearchValue(e.target.value)} onKeyUp={checkEnter} />\n  )\n}\n\n\nexport default function SearchButton() {\n  const dispatch = useDispatch()\n\n  const [showSearchBar, setShowSearchBar] = useState(false)\n  const [searchValue, setSearchValue] = useState('')\n\n  const openSearch = (e) => {\n    e.stopPropagation();\n    setSearchValue('')\n    if (!showSearchBar) {\n      setShowSearchBar(true)\n    }\n  }\n\n  const closeSearch = (e) => {\n    setShowSearchBar(false)\n  }\n\n  useEffect(() => {\n    let timeoutId\n    if (searchValue) {\n      timeoutId = setTimeout(() => dispatch(changeView(`SEARCH:${searchValue}`)),100)\n    } else {\n      timeoutId = setTimeout(() => dispatch(changeView(null)),100)\n    }\n    return () => clearTimeout(timeoutId)\n  }, [searchValue])\n\n  useEffect(() => {\n    if (!showSearchBar) return\n\n    document.addEventListener('click', closeSearch)\n\n    return () => {\n      document.removeEventListener('click', closeSearch)\n\n    }\n  }, [showSearchBar])\n\n\n\n  return (\n    <div onClick={openSearch} className={`navbar__search ${showSearchBar ? 'navbar__search--open' : 'navbar__search--closed'}`} >\n      <i className=\"fas fa-search\"></i>\n      {showSearchBar && (\n        <SearchField searchValue={searchValue} setSearchValue={setSearchValue} closeSearch={closeSearch} />\n      )}\n    </div>\n  )\n}\n","import React, { useState } from 'react'\n\nimport './FormInput.css'\n\nexport default function FormInput({ name, type, value, onChange, required, maxLength, min, step }) {\n  const [focused, setFocused] = useState(false)\n\n\n  const focusChildInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.querySelector('input').focus()\n  }\n\n  const focusSiblingInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.parentElement.querySelector('input').focus()\n  }\n\n  const shiftName = (e) => {\n    e.stopPropagation()\n    if (focused) return;\n    setFocused(true)\n    const wrapper = e.target.parentElement\n    wrapper.classList.add('form-input__container--focused')\n    wrapper.classList.add('form-input__container--filled')\n  }\n\n  const blurContainer = (e) => {\n    setFocused(false)\n    const wrapper = e.target.parentElement\n    wrapper.classList.remove('form-input__container--focused')\n    if (!e.target.value) wrapper.classList.remove('form-input__container--filled')\n  }\n\n  return (\n    <div onClick={focusChildInput} className={`form-input__container${value && ' form-input__container--filled'}`}>\n      <div onClick={focusSiblingInput} className=\"form-input__name\">{name}</div>\n      <input\n        onClick={(e) => e.stopPropagation()}\n        onFocus={shiftName}\n        onBlur={blurContainer}\n        className=\"form-input__input\"\n        type={type}\n        value={value}\n        onChange={onChange}\n        required={required}\n        maxLength={maxLength}\n        min={min}\n        step={step}\n      />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session'\n\nimport FormInput from '../FormInput'\n\nimport './LoginForm.css'\n\nexport default function LoginForm() {\n  const dispatch = useDispatch();\n  const [credential, setCredential] = useState('')\n  const [password, setPassword] = useState('')\n  const [errors, setErrors] = useState([])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n\n    return dispatch(sessionActions.login({ credential, password }))\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n        }\n      })\n  }\n\n  return (\n    <form className='login-form'>\n      <h2>Login to <span style={{ fontFamily: \"'Pacifico', cursive\" }}>'SupDog</span></h2>\n      {errors.length > 0 && (\n        <ul>\n          {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n        </ul>\n      )}\n      <div className=\"login-form__input-fields\">\n        <FormInput name='Email or Username' required={true} type=\"text\" value={credential} onChange={({ target }) => setCredential(target.value)} />\n        <FormInput name='Password' required={true} type=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} />\n      </div>\n      <div className=\"button button--primary\" onClick={handleSubmit}>Log In</div>\n    </form>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Modal } from '../../context/Modal'\nimport LoginForm from './LoginForm'\n\nexport default function LoginFormModal() {\n  const [showModal, setShowModal] = useState(false)\n\n  return (\n    <>\n      <div className=\"navbar__button\" onClick={() => {\n        setShowModal(true)\n      }}>Log In</div>\n      {showModal && (\n        <>\n          <Modal onClose={() => setShowModal(false)}>\n            <LoginForm />\n          </Modal>\n        </>\n      )}\n    </>\n  )\n}\n","// create the image with a src of the base64 string\nconst createImage = (url) =>\n  new Promise((resolve, reject) => {\n    const image = new Image()\n    image.addEventListener('load', () => resolve(image))\n    image.addEventListener('error', error => reject(error))\n    image.setAttribute('crossOrigin', 'anonymous')\n    image.src = url\n  })\n\nexport const getCroppedImg = async (imageSrc, crop, width = 250, height = 250) => {\n  const image = await createImage(imageSrc)\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n\n  /* setting canvas width & height allows us to\n  resize from the original image resolution */\n  canvas.width = width\n  canvas.height = height\n\n  ctx.drawImage(\n    image,\n    crop.x,\n    crop.y,\n    crop.width,\n    crop.height,\n    0,\n    0,\n    canvas.width,\n    canvas.height\n  )\n\n  return new Promise((resolve) => {\n    canvas.toBlob((blob) => {\n      resolve(blob)\n    }, 'image/jpeg')\n  })\n}\n","import React, { useState } from 'react'\nimport Cropper from 'react-easy-crop'\nimport { getCroppedImg } from './cropImage'\n\nconst ImageCropper = ({ getBlob, inputImg, aspect = 1, width = 250, height = 250 }) => {\n  const [crop, setCrop] = useState({ x: 0, y: 0 })\n  const [zoom, setZoom] = useState(1)\n\n  const onCropComplete = async (_, croppedAreaPixels) => {\n    const croppedImage = await getCroppedImg(\n      inputImg,\n      croppedAreaPixels,\n      width,\n      height\n    )\n    getBlob(croppedImage)\n  }\n\n  return (\n    <div className='cropper'>\n      <Cropper\n        image={inputImg}\n        crop={crop}\n        zoom={zoom}\n        aspect={aspect}\n        onCropChange={setCrop}\n        onCropComplete={onCropComplete}\n        onZoomChange={setZoom}\n      />\n    </div>\n  )\n}\n\nexport default ImageCropper\n","import React, { useState, useEffect } from 'react';\nimport ImageCropper from './ImageCropper'\n\nimport './cropper.css'\n\nconst ImageInput = ({ aspect, value, onChange, width, height }) => {\n  const [blob, setBlob] = useState(null)\n  const [inputImg, setInputImg] = useState('')\n  const [blobURL, setBlobURL] = useState(null)\n  const [fileName, setFileName] = useState('No File Selected')\n\n  const getBlob = (blob) => {\n    //function to pass the blob from inner components up to this component\n    setBlob(blob)\n    onChange(blob)\n  }\n\n  useEffect(() => {\n    if(value) {\n      if (value.startsWith('http')) {\n        setBlobURL(value)\n        setFileName('Previous Upload')\n\n        return\n      }\n      let urlCreator = window.URL || window.webkitURL;\n      setBlobURL(urlCreator.createObjectURL(value))\n      setFileName('Previous Upload')\n    }\n  }, [])\n\n  const onInputChange = (e) => {\n    // convert image file to base64 string\n    const file = e.target.files[0]\n    setFileName(file.name)\n    const reader = new FileReader()\n\n    reader.addEventListener('load', () => {\n      setInputImg(reader.result)\n    }, false)\n\n    if (file) {\n      reader.readAsDataURL(file)\n    }\n  }\n\n  return (\n    <div className=\"image-input__container\">\n      <label className=\"image-input__selector-container\">\n        <div className=\"button\">Select File</div>\n        <div className=\"image-input__filename\">{fileName}</div>\n        <input\n          type=\"file\"\n          accept='image/*'\n          onChange={onInputChange}\n          style={{display:'none'}}\n        />\n      </label>\n      <div className=\"image-cropper__container\">\n        {(!blobURL || inputImg) &&\n          (\n            <ImageCropper\n              getBlob={getBlob}\n              inputImg={inputImg}\n              aspect={aspect}\n              width={width}\n              height={height}\n            />\n          )\n        }\n        {!inputImg && blobURL && (\n        <img className=\"image-cropper__previous-upload\" alt=\"Preview Unavailable\" src={blobURL} />\n      )}\n      </div>\n    </div>\n  )\n}\n\nexport default ImageInput\n","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport compress from 'compress.js'\n\nimport * as sessionActions from '../../store/session'\nimport { Redirect, useHistory } from 'react-router-dom'\nimport FormInput from '../FormInput'\nimport ImageInput from '../ImageCropper/ImageInput'\n\nimport './SignupForm.css'\n\n\n// Start of profile pic resizing function\nconst resizeProfilePic = async (file) => {\n  const resizedImage = await compress.compress([file], {\n    size: 2, //Max file size set to 2Mb\n    quality: 1, //Sets quality of image (max of 1),\n    maxWidth: 300, //Sets the max width of the image to 300px\n    maxHeight: 300, //Sets the max height of the image\n    resize: true //confirm that we want to resize the picture\n  })\n\n  const img = resizedImage[0]; //compress.compress returns an array\n  const base64str = img.data;\n  const imgExt = img.ext;\n  const resizedFile = compress.convertBase64ToFile(base64str, imgExt)\n  return resizedFile\n}\n\nexport default function SignupForm() {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [email, setEmail] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [profilePic, setProfilePic] = useState(null)\n  // const [profilePicPreview, setProfilePicPreview] = useState(null)\n  const [errors, setErrors] = useState([])\n  const [sending, setSending] = useState(false)\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  if (sessionUser) return (<Redirect to='/' />)\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n\n    setErrors([]);\n\n    let newErrors = [];\n\n    if (confirmPassword !== password) {\n      newErrors.push('Please make sure passwords match!')\n      return setErrors(newErrors)\n    }\n\n    setSending(true)\n\n    const user = { email, username, firstName, lastName, profilePic, password }\n\n    return dispatch(sessionActions.signup(user))\n      .then((res) => {\n        if (res.statusText !== 'OK') throw res\n        return res\n      })\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n          setSending(false)\n        }\n      })\n\n  }\n\n  return (\n    <form className='signup-form'>\n      <h2>Sign Up for <span style={{ fontFamily: \"'Pacifico', cursive\" }}>'SupDog</span></h2>\n      {errors.length > 0 && (\n        <ul>\n          {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n        </ul>\n      )}\n      <div className=\"signup-form__inputs-container\">\n        <div className=\"signup-form__input-fields\">\n          <FormInput name='First Name' required={true} type=\"text\" value={firstName} onChange={({ target }) => setFirstName(target.value)} />\n          <FormInput name='Last Name' required={true} type=\"text\" value={lastName} onChange={({ target }) => setLastName(target.value)} />\n          <FormInput name='Email' required={true} type=\"text\" value={email} onChange={({ target }) => setEmail(target.value)} />\n          <FormInput name='Username' required={true} type=\"text\" value={username} onChange={({ target }) => setUsername(target.value)} />\n          <FormInput name='Password' required={true} type=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} />\n          <FormInput name='Confirm Password' required={true} type=\"password\" value={confirmPassword} onChange={({ target }) => setConfirmPassword(target.value)} />\n        </div>\n        <div className=\"signup-form__profile-pic\">\n          <h2>Select a Profile Picture</h2>\n          <span>After selection image, drag to position and scroll to zoom.</span>\n          <ImageInput aspect={1} onChange={setProfilePic} />\n        </div>\n      </div>\n      {<div className=\"button button--primary\" onClick={handleSubmit}>Sign Up</div>}\n    </form>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Modal } from '../../context/Modal'\nimport SignupForm from './SignupForm'\n\nexport default function SignupFormModal() {\n  const [showModal, setShowModal] = useState(false)\n\n  return (\n    <>\n      <div className=\"navbar__button navbar__button--primary\" onClick={() => {\n        setShowModal(true)\n      }}>Sign Up</div>\n      {showModal && (\n        <>\n          <Modal onClose={() => setShowModal(false)}>\n            <SignupForm />\n          </Modal>\n        </>\n      )}\n    </>\n  )\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport ProfileButton from './ProfileButton';\nimport SearchButton from './SearchButton';\n\nimport LoginFormModal from '../LoginFormModal'\nimport SignupFormModal from '../SignupFormPage';\n\nimport './Navigation.css'\nimport { clearView } from '../../store/view';\nimport * as  sessionActions from '../../store/session'\n\n\nexport default function Navigation({ isLoaded }) {\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  const loginAsDemo = (e) => {\n    e.stopPropagation();\n    const credential = 'demo@user.io'\n    const password = 'password'\n\n    return dispatch(sessionActions.login({ credential, password }))\n  }\n\n  let sessionLinks;\n\n  if (sessionUser) {\n    sessionLinks = (\n      <ProfileButton />\n    )\n  } else {\n    sessionLinks = (\n      <>\n        <div onClick={loginAsDemo} className=\"button\">Demo</div>\n        <LoginFormModal />\n        <SignupFormModal />\n      </>\n    )\n  }\n\n  const logoClick = (e) => {\n    dispatch(clearView())\n    history.push('/')\n  }\n\n  return (\n    <div className=\"navbar__container\">\n      <div className=\"navbar__logo\" onClick={logoClick}><img src=\"/images/'SupDog-Logo.png\" alt='' width=\"150px\" /></div>\n      <div className=\"navbar__right-container\">\n        <SearchButton />\n        <div className=\"navbar__links\">\n          {isLoaded && sessionLinks}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport * as formatDate from 'date-format'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { fetch } from '../../store/csrf'\n\nimport './EventCard.css'\n\nfunction TicketItem({ ticket }) {\n  return (\n    <li className=\"event-card__background-ticket-item\">\n      {ticket.name}\n    </li>\n  )\n}\n\n\nexport default function EventCard({ event }) {\n  const history = useHistory()\n\n  const [nextDate, setNextDate] = useState('')\n\n  const { id, title, organizer, eventPicURL, summary, tickets } = event\n\n  const [left, avail] = tickets.reduce((acc, ticket) => {\n    acc[1] += ticket.quantity;\n    acc[0] += ticket.quantity - ticket.sold;\n    return acc\n  }, [0, 0])\n\n  useEffect(() => {\n    (async () => {\n      let res = await fetch(`/api/events/${event.id}/next-date`)\n      let date\n      if (res.data === 0) date = 'Over'\n      else {\n        date = formatDate.asString(\n          'MM/dd',\n          new Date(res.data)\n        )\n      }\n\n      setNextDate(date)\n    })()\n\n  }, [event])\n\n  const handleClick = (e) => {\n    history.push(`/events/${id}`)\n  }\n\n  return (\n    <>\n      <div key={`event-${id}`} className=\"event-card__wrapper\" onClick={handleClick}>\n        <h1 className=\"event-card__floating-details-title\">{title}</h1>\n\n        <div className='event-card__foreground'>\n          <div className=\"event-card__date-banner\">{nextDate}</div>\n          <div className=\"event-card__picture-wrapper\">\n            <img className=\"event-card__picture\" src={eventPicURL} alt=\"\" />\n          </div>\n          <div className=\"event-card__foreground-details\">\n            <h1 className=\"event-card__foreground-details-title\">{title}</h1>\n            <h2 className=\"event-card__foreground-details-organizer\">\n              Hosted by:\n              <div>\n                <img className='event-card__organizer-pic' src={organizer.profilePicURL} alt=\"\" />\n                <span>{organizer.username}</span>\n              </div>\n            </h2>\n            <h2 className=\"event-card__foreground-details-ticket-count\">\n              <i className=\"fas fa-ticket-alt\" />\n              <span>{`${left} `}</span>\n              out of\n              <span>{` ${avail} `}</span>\n              remaining\n            </h2>\n          </div>\n        </div>\n        <div className='event-card__background'>\n          <img className=\"event-card__background-image\" src={eventPicURL} alt=\"\" />\n          <div className=\"event-card__background-details\">\n            <h1 className=\"event-card__background-title\">{title}</h1>\n            <h2 className=\"event-card__background-summary\">{summary}</h2>\n            <ul className=\"event-card__background-tickets\">\n              <span>Ticket Types:</span>\n              {tickets.map(ticket => {\n                return <TicketItem key={ticket.id} ticket={ticket} />\n              })}\n            </ul>\n          </div>\n          <div className=\"button button--primary\">SEE MORE</div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport './Footer.css'\n\n\n//TODO: fix the image link so it doesn't reload\nexport default function Footer() {\n  return (\n    <div className=\"footer__wrapper\">\n      <div className=\"footer__image-wrapper\">\n        <Link to=\"/\" >\n          <img src=\"/images/Favicon-Logo.png\" alt=\"\" />\n        </Link>\n      </div>\n      <div className=\"footer__links\">\n        <div className=\"footer__links-left\">\n          <h1 style={{ fontWeight: 'bold' }}>References</h1>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://popdog.com/\">Popdog</a>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.eventbrite.com/\">Eventbrite</a>\n        </div>\n        <div className=\"footer__links-right\">\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/sjstark/supdog\" >\n            <i className=\"fab fa-github-square\" />\n          </a>\n          <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.linkedin.com/in/samueljamesstark/\">\n            <i className=\"fab fa-linkedin\" />\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { connect, useDispatch } from 'react-redux'\nimport { clearEvents, loadMoreEvents, loadInitialEvents } from '../../store/event'\n\n\nimport { fetch } from '../../store/csrf'\n\nimport EventCard from '../EventCard'\nimport Footer from '../Footer'\n\nimport './EventDisplay.css'\n\nfunction EventDisplay({ events, view, myEvents }) {\n  const dispatch = useDispatch()\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [viewName, setViewName] = useState('All Events')\n  const [loadMore, setLoadMore] = useState(true)\n\n  const changeViewName = async (view) => {\n\n    if (view === null) {\n      return setViewName('All Events')\n    }\n    if (view.startsWith('SEARCH:')) {\n      let searchParam = view.slice(7)\n      return setViewName(`Search for: ${searchParam}`)\n    }\n    if (view === 'MY-EVENTS') {\n      return setViewName(`Your Created Events`)\n    }\n    if (view.startsWith('CATEGORY:')) {\n      let categoryId = view.slice(9)\n      let res = await fetch(`/api/categories/${categoryId}/title`)\n      return setViewName(`Category: ${res.data}`)\n    }\n\n  }\n\n  useEffect(() => {\n    setLoadMore(true)\n  }, [events])\n\n\n  useEffect(() => {\n    if (view && view.startsWith('SEARCH:')) {\n      return (async () => {\n        setIsLoaded(false)\n        await dispatch(loadInitialEvents(view))\n        await changeViewName(view)\n        setIsLoaded(true)\n      })()\n    }\n    else {\n      (async () => {\n        setIsLoaded(false)\n        await dispatch(clearEvents())\n        await dispatch(loadMoreEvents(0, 10, view))\n        await changeViewName(view)\n        setIsLoaded(true)\n      })()\n    }\n  }, [view])\n\n  const getMoreEvents = async (e) => {\n    e.stopPropagation();\n    setIsLoaded(false)\n    let loadedEvents = await dispatch(loadMoreEvents(events.length, 10, view))\n    if (~loadedEvents || loadedEvents.length < 10) setLoadMore(false)\n    setIsLoaded(true)\n  }\n\n  return (\n    <div className=\"event-display-container\">\n      <h1 className=\"event-display-title\">{viewName}</h1>\n      <ul className=\"event-display-list\">\n        {isLoaded && (\n          <>\n            {events.length === 0 && (\n              <div style={{ height: '50vh' }}> There are no events for this yet!</div>\n            )}\n            {events && events\n              .map((event) => {\n\n                return (\n                  <EventCard key={`event-${event.id}`} event={event} />\n                )\n              })}\n          </>\n        )}\n      </ul>\n      {isLoaded && (\n        <>\n          {(\n            <div className=\"event-display__show-more-wrapper\">\n              <div className=\"event-display__show-more-line\" />\n              {loadMore && (\n                <div className=\"event-display__show-more-button-wrapper\">\n                  <div onClick={getMoreEvents} className=\"button button--primary button--large\">Load More Events</div>\n                </div>\n              )}\n              {!loadMore && (\n                <div className=\"event-display__show-more-button-wrapper\">\n                  <div className=\"button button--primary button--large button--disabled\">All Events Loaded</div>\n                </div>\n              )}\n\n            </div>\n          )}\n          <Footer />\n        </>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({ events: state.events, view: state.view })\n\n\nexport default connect(mapStateToProps)(EventDisplay)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\n\nimport { fetch } from '../../store/csrf'\n\nimport './TicketItem.css'\n\nexport default function TicketItem({ ticket, getEvent }) {\n  let isSoldOut = ticket.sold >= ticket.quantity\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  useEffect(() => {\n    isSoldOut = ticket.sold >= ticket.quantity\n  }, [ticket])\n\n  const registerUser = async (e) => {\n    e.stopPropagation();\n    e.target.onClick = null\n\n    e.target.classList.add('button--disabled')\n\n    await fetch(`/api/tickets/${ticket.id}`, {\n      method: 'POST'\n    })\n\n    let successEl = e.target.parentElement.querySelector('.success')\n    successEl.classList.add('shown')\n    setTimeout(() => {\n      successEl.classList.remove('shown')\n    }, 100)\n\n    e.target.classList.remove('button--disabled')\n\n    e.target.onClick = registerUser\n\n    // Reloads event in case ticket is sold out\n    // (really this should be done with Redux...)\n    await getEvent()\n  }\n\n  return (\n    <div className=\"ticket-item__wrapper\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2 className=\"ticket-item__name\">{ticket.name}</h2>\n        <h2 className=\"ticket-item__tickets-left\">{ticket.quantity - ticket.sold} Left</h2>\n      </div>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        {sessionUser && !isSoldOut && (\n          <div onClick={registerUser} className=\"button button--small button--primary\">Register</div>\n        )}\n        {!sessionUser && !isSoldOut && (\n          <div className=\"button button--small button--disabled\" style={{fontSize:'10px'}}>Please Log In </div>\n        )}\n        {isSoldOut && (\n          <div className=\"button button--small button--disabled\">Sold Out</div>\n        )}\n\n        <div className=\"success\">Success!</div>\n      </div>\n    </div >\n  )\n}\n","import React from 'react'\nimport * as formatDate from 'date-format'\n\nexport default function DateItem({ date }) {\n\n  let startDay = formatDate.asString(\"MM/dd\", new Date(date.start))\n\n  let startTimeHour = formatDate.asString(\"hh\", new Date(date.start))\n  let startPM = false\n  if (parseInt(startTimeHour, 10) > 12) {\n    startTimeHour = parseInt(startTimeHour, 10) - 12\n    startPM = true;\n  }\n  let startTimeMinute = formatDate.asString('mm', new Date(date.start))\n\n  let endDay = formatDate.asString(\"MM/dd\", new Date(date.end))\n\n  let endTimeHour = formatDate.asString(\"hh\", new Date(date.end))\n  let endPM = false\n  if (parseInt(endTimeHour, 10) > 12) {\n    endTimeHour = parseInt(endTimeHour, 10) - 12\n    endPM = true;\n  }\n  let endTimeMinute = formatDate.asString('mm', new Date(date.end))\n\n  return (\n    <div className=\"event-detail__occurance\">{`${startDay} @ ${startTimeHour}:${startTimeMinute}${startPM ? 'PM' : 'AM'} - ${endDay} @ ${endTimeHour}:${endTimeMinute}${endPM ? 'PM' : 'AM'}`}</div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport * as formatDate from 'date-format'\n\n\nimport { fetch } from '../../store/csrf'\nimport TicketItem from '../TicketItem'\nimport DateItem from '../DateItem'\n\nimport './EventDetails.css'\n\nexport default function EventDetails() {\n  const history = useHistory()\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  let { id } = useParams()\n  const [event, setEvent] = useState(null)\n  const [nextDate, setNextDate] = useState('')\n\n\n  const getEvent = async () => {\n    const res = await fetch(`/api/events/${id}`)\n    setEvent(res.data);\n\n    (async () => {\n      let dateRes = await fetch(`/api/events/${res.data.id}/next-date`)\n      let date\n      if (dateRes.data === 0) date = 'Passed'\n      else {\n        date = formatDate.asString(\n          'MM/dd',\n          new Date(dateRes.data)\n        )\n      } setNextDate(date)\n    })()\n  }\n\n  useEffect(() => {\n    getEvent()\n\n  }, [id])\n\n  const editEvent = (e) => {\n    history.push(`/events/${id}/edit`)\n  }\n\n  return (\n    <>\n      {event && (\n        <div className=\"event-details__container\">\n          {event.organizer && sessionUser && (event.organizer.id === sessionUser.id ) && (\n            <div onClick={editEvent} className=\"button event-details__edit-button\">\n              <i className=\"fas fa-pencil-alt\"></i>\n            </div>\n          )}\n          <div className=\"event-details__background-container\">\n            <div className=\"event-details__background-image-container\">\n              <img className=\"event-details__background-image\" src={event.eventPicURL} alt=\"\" />\n            </div>\n          </div>\n          <div className=\"event-details__content\">\n            <div className=\"event-details__header\">\n              <div className=\"event-details__header-left\">\n                <img className=\"event-details__header-image\" src={event.eventPicURL} alt=\"\" />\n              </div>\n              <div className=\"event-details__header-right\">\n                <h1 className=\"event-detail__header-date\">{nextDate}</h1>\n                <div className=\"event-detail__header-details\">\n                  <h1 className=\"event-detail__header-title\">{event.title}</h1>\n                  <h1 className=\"event-detail__header-organizer\">{'by '}\n                    <img className=\"event-detail__header-organizer-pic\" src={event.organizer.profilePicURL} alt=\"\" />\n                    {event.organizer.username}</h1>\n                </div>\n              </div>\n            </div>\n            <div className=\"event-details__body\">\n              <div className=\"event-details__body-left\">\n                <span >{event.summary}</span>\n                <h3>About this Event</h3>\n                <p>{event.about}</p>\n              </div>\n              <div className=\"event-details__body-right\">\n                <h1 style={{ fontSize: \"24px\" }}>\n                  Dates\n                </h1>\n                {event.eventDates.map(date => {\n                  return (<DateItem key={date.id} date={date} />)\n                })}\n                <h1 style={{ fontSize: \"24px\" }}>\n                  Tickets\n                </h1>\n                {event.tickets.map(ticket => {\n                  return <TicketItem key={ticket.id} ticket={ticket} getEvent={getEvent} />\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport './FormInputField.css'\n\nexport default function FormInputField({ name, value, onChange, required, rows, cols, maxLength }) {\n  const [focused, setFocused] = useState(false)\n\n  const focusChildInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.querySelector('textarea').focus()\n  }\n\n  const focusSiblingInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    e.target.parentElement.querySelector('textarea').focus()\n  }\n\n  const shiftName = (e) => {\n    e.stopPropagation()\n    if (focused) return;\n    setFocused(true)\n    const wrapper = e.target.parentElement\n    wrapper.classList.add('form-input-field__container--focused')\n    wrapper.classList.add('form-input-field__container--filled')\n  }\n\n  const blurContainer = (e) => {\n    setFocused(false)\n    const wrapper = e.target.parentElement\n    wrapper.classList.remove('form-input-field__container--focused')\n    if (!e.target.value) wrapper.classList.remove('form-input-field__container--filled')\n  }\n\n  return (\n    <div onClick={focusChildInput} className={`form-input-field__container${value && ' form-input-field__container--filled'}`}>\n      <div onClick={focusSiblingInput} className=\"form-input-field__name\">{name}</div>\n      <textarea\n        onClick={(e) => e.stopPropagation()}\n        onFocus={shiftName}\n        onBlur={blurContainer}\n        className=\"form-input-field__input\"\n        value={value}\n        onChange={onChange}\n        required={required}\n        maxLength={maxLength}\n        rows={rows}\n        cols={cols}\n      />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\n\nimport './FormDropDown.css'\n\nexport default function FormInputField({ name, value, onChange, required, options }) {\n  const [focused, setFocused] = useState(false)\n\n  const focusChildInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let event = document.createEvent('MouseEvents')\n\n    event.initMouseEvent('mousedown',true,true,window);\n\n    e.target.parentElement.querySelector('select').focus()\n    e.target.parentElement.querySelector('select').dispatchEvent(event)\n  }\n\n  const focusSiblingInput = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let event = document.createEvent('MouseEvents')\n\n    event.initMouseEvent('mousedown',true,true,window);\n\n    e.target.parentElement.querySelector('select').focus()\n    e.target.parentElement.querySelector('select').dispatchEvent(event)\n\n  }\n\n  const shiftName = (e) => {\n    e.stopPropagation()\n    if (focused) return;\n    setFocused(true)\n    const wrapper = e.target.parentElement\n    wrapper.classList.add('form-select__container--focused')\n    wrapper.classList.add('form-select__container--filled')\n  }\n\n  const blurContainer = (e) => {\n    setFocused(false)\n    const wrapper = e.target.parentElement\n    wrapper.classList.remove('form-select__container--focused')\n    if (!e.target.value) wrapper.classList.remove('form-select__container--filled')\n  }\n\n  return (\n    <div onClick={focusChildInput} className={`form-select__container${value && ' form-select__container--filled'}`}>\n      <div className=\"form-select__name\">{name}</div>\n      <select\n        onClick={(e) => e.stopPropagation()}\n        onFocus={shiftName}\n        onBlur={blurContainer}\n        className=\"form-select__input\"\n        value={value}\n        onChange={onChange}\n        required={required}\n      >\n        <option value=\"\"></option>\n        {options && options.map( (option, idx) => {\n          return <option key={idx} value={option.id}>{option.title}</option>\n        })}\n      </select>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport * as formatDate from 'date-format'\n\nimport { Redirect, useHistory, useParams } from 'react-router-dom'\n\nimport { createNewEvent, updateEvent } from '../../store/event'\n\nimport ImageInput from '../ImageCropper/ImageInput'\nimport FormInput from '../FormInput'\nimport FormInputField from '../FormInputField'\nimport FormDropDown from '../FormDropDown'\n\nimport { fetch } from '../../store/csrf'\n\nimport './NewEventForm.css'\nimport DateItem from '../DateItem'\n\n\nexport default function NewEventForm() {\n  const history = useHistory()\n  const {eventId} = useParams()\n\n  const [event, setEvent] = useState(null)\n\n  const [title, setTitle] = useState('')\n  const [summary, setSummary] = useState('')\n  const [about, setAbout] = useState('')\n  const [categories, setCategories] = useState([])\n  const [categoryId, setCategoryId] = useState('')\n\n  const [eventPic, setEventPic] = useState('')\n\n  const [today] = useState(() => {\n    let now = new Date();\n    return formatDate.asString('yyyy-MM-ddThh:mm', now)\n  })\n\n  const [eventDates, setEventDates] = useState([])\n  const [eventStartDateTime, setEventStartDateTime] = useState('')\n  const [eventEndDateTime, setEventEndDateTime] = useState('')\n\n  const [tickets, setTickets] = useState([])\n  const [ticketType, setTicketType] = useState('')\n  const [ticketQty, setTicketQty] = useState('')\n\n  const [errors, setErrors] = useState([])\n  const [sending, setSending] = useState(false)\n  const [step, setStep] = useState(0)\n\n  const [isComplete, setIsComplete] = useState(false)\n\n  const checkIsComplete = () => {\n    switch (step) {\n      case 0 :\n        if (\n          (title && title.length >= 4 && title.length <= 50) &&\n          (summary && summary.length >= 5 && summary.length <= 120) &&\n          (categoryId)\n        ) setIsComplete(true)\n        else setIsComplete(false)\n        break\n\n      case 1:\n        if (\n          eventPic\n        ) {\n          setIsComplete(true)\n        }\n        else setIsComplete(false)\n        break\n\n      case 2:\n        if (\n          eventDates.length > 0\n        ) {\n          setIsComplete(true)\n        }\n        else setIsComplete(false)\n        break\n\n      case 3:\n        if (\n          tickets.length > 0\n        ) {\n          setIsComplete(true)\n        }\n        else setIsComplete(false)\n        break\n\n      default:\n        setIsComplete(false)\n        break\n\n    }\n  }\n\n  useEffect(() => {\n    (async () => {\n      let categoriesJSON = await fetch(`/api/categories`)\n\n      setCategories(categoriesJSON.data)\n\n      if (eventId) {\n        let eventJSON = await fetch(`/api/events/${eventId}`)\n         setEvent(eventJSON.data)\n\n        setTitle(eventJSON.data.title)\n        setSummary(eventJSON.data.summary)\n        setAbout(eventJSON.data.about)\n        setCategoryId(eventJSON.data.categoryId)\n        setEventPic(eventJSON.data.eventPicURL)\n        setEventDates(eventJSON.data.eventDates.map(eventDate => ({start: eventDate.start, end: eventDate.end, id: eventDate.id})))\n        setTickets(eventJSON.data.tickets.map(ticket => ({name: ticket.name, quantity: ticket.quantity, id: ticket.id})))\n\n      }\n    })();\n\n\n  }, [])\n\n  useEffect(() => {\n    checkIsComplete()\n\n  }, [step, title, summary, about, categoryId, eventPic, eventDates, tickets])\n\n  const sessionUser = useSelector(state => state.session.user)\n  // Redirect back to homepage if user is not logged in\n  if (!sessionUser) return (<Redirect to='/' />)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setSending(true)\n\n    setErrors([])\n\n    const newEvent = { title, summary, about, eventPic, categoryId, organizer: sessionUser.id, tickets: JSON.stringify(tickets), dates: JSON.stringify(eventDates) }\n\n    if (event) {\n      return updateEvent(event.id, newEvent)\n        .then((res) => {\n          if (res.statusText !== 'OK') throw res\n          else {\n            history.push(`/events/${event.id}`)\n          }\n        })\n        .catch((res) => {\n          if (res.data && res.data.errors) {\n            setErrors(res.data.errors)\n            setSending(false)\n          }\n        })\n    }\n    if (!event) {\n      return createNewEvent(newEvent)\n      .then((res) => {\n        if (res.statusText !== 'OK') throw res\n        else {\n          history.push(`/events/${res.data.id}`)\n        }\n      })\n      .catch((res) => {\n        if (res.data && res.data.errors) {\n          setErrors(res.data.errors)\n          setSending(false)\n        }\n      })\n    }\n  }\n\n  const addTicket = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    const ticket = { name: ticketType, quantity: ticketQty }\n    setTickets([...tickets, ticket])\n    setTicketType('')\n    setTicketQty('')\n  }\n\n  const addDate = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    const newEventDate = { start: new Date(eventStartDateTime), end: new Date(eventEndDateTime) }\n\n    setEventDates([...eventDates, newEventDate])\n\n    setEventStartDateTime('')\n    setEventEndDateTime('')\n  }\n\n  const nextPage = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setStep(step + 1)\n  }\n\n  const lastPage = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setStep(step - 1)\n  }\n\n  const EventDetailsForm = (\n    <>\n      <form className=\"event-create-form\">\n        <h1 className=\"event-create-form__title\">Event Details</h1>\n        <div>\n          <FormInput name='Event Title*' required={true} maxLength={50} type=\"text\" value={title} onChange={({ target }) => setTitle(target.value)} />\n          <FormInputField name='Event Summary*' required={true} maxLength={120} rows={2} cols={60} value={summary} onChange={({ target }) => setSummary(target.value)} />\n          <FormInputField name='About' required={true} rows={12} cols={60} value={about} onChange={({ target }) => setAbout(target.value)} />\n          <FormDropDown name=\"Category*\" required={true} options={categories} value={categoryId} onChange={({target}) => setCategoryId(target.value)} />\n        </div>\n      </form>\n      <div className=\"create-event__buttons-container\">\n        <div className=\"button button--warning\" onClick={() => history.replace('/')}>Cancel</div>\n        {isComplete && <div className=\"button button--primary\"onClick={nextPage}>Next Step</div>}\n        {!isComplete && <div className=\"button button--primary button--disabled\">Next Step</div>}\n      </div>\n    </>\n  )\n\n  const EventImageForm = (\n    <>\n      <form className=\"event-image-form\">\n        <div className=\"event-image-form__header\">\n          <h1 className=\"event-create-form__title\">Event Image</h1>\n          <label className=\"event-image-form__directions\">\n            Event Picture: 2160px x 1080px (2:1 ratio)\n          </label>\n        </div>\n        <div>\n          <ImageInput aspect={2} value={eventPic} onChange={setEventPic} height={1080} width={2160} />\n        </div>\n\n      </form>\n      <div className=\"create-event__buttons-container\">\n        <div className=\"button button--warning\" onClick={() => history.replace('/')}>Cancel</div>\n        <div className=\"button \" onClick={lastPage}>Previous Step</div>\n        {isComplete && <div className=\"button button--primary\"onClick={nextPage}>Next Step</div>}\n        {!isComplete && <div className=\"button button--primary button--disabled\">Next Step</div>}\n      </div>\n    </>\n  )\n\n  const removeDate = (idx) => {\n    setEventDates([...eventDates.slice(0, idx), ...eventDates.slice(idx + 1)])\n  }\n\n  const EventDatesForm = (\n    <>\n      <div className=\"date-create__wrapper\">\n        <form className=\"date-create-form\">\n          <ul>\n            {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n          </ul>\n          <h1 className=\"event-create-form__title\">Create Event Date</h1>\n          <FormInput name=\"Event Start Date\" type=\"datetime-local\" min={today} step={60*15} value={eventStartDateTime} onChange={({ target }) => setEventStartDateTime(target.value)} />\n          <FormInput name=\"Event End Date\" type=\"datetime-local\" min={eventStartDateTime ? formatDate('yyyy-MM-ddThh:mm', new Date(eventStartDateTime)) : today} step={60*15} value={eventEndDateTime} onChange={({ target }) => setEventEndDateTime(target.value)} />\n        </form>\n        <ul className=\"date-create-form__eventdates-container\">\n          <h1 className=\"event-create-form__title\">Entered Event Dates</h1>\n          {eventDates && eventDates.map((eventDate, idx) => {\n            return (\n              <li key={`eventDate-${eventDate.start}-${eventDate.end}`}>\n                <DateItem key={idx} date={eventDate} />\n                <div\n                className=\"button button--small button--warning\"\n                onClick={(e) => {\n                  e.preventDefault()\n                  e.stopPropagation()\n                  removeDate(idx)\n                }}>Remove Date</div>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n      <div className=\"create-event__buttons-container\">\n        <div className=\"button button--warning\" onClick={() => history.replace('/')}>Cancel</div>\n        <div className=\"button \" onClick={lastPage}>Previous Step</div>\n        {eventStartDateTime && eventEndDateTime && (<div className=\"button button--primary\" onClick={addDate}>Add Event Date</div>)}\n        {!(eventStartDateTime && eventEndDateTime) && (<div className=\"button button--primary button--disabled\" >Add Event Date</div>)}\n        {isComplete && <div className=\"button button--primary\"onClick={nextPage}>Next Step</div>}\n        {!isComplete && <div className=\"button button--primary button--disabled\">Next Step</div>}\n      </div>\n    </>\n  )\n\n  const removeTicket = (idx) => {\n    setTickets([...tickets.slice(0, idx), ...tickets.slice(idx + 1)])\n  }\n\n  const TicketCreateForm = (\n    <>\n      <div className=\"ticket-create__wrapper\">\n        <form className=\"ticket-create-form\">\n          <ul>\n            {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n          </ul>\n          <h1 className=\"event-create-form__title\">Create Ticket</h1>\n          <FormInput name=\"Ticket Title\" type=\"text\" value={ticketType} onChange={({ target }) => setTicketType(target.value)} />\n          <FormInput name=\"Ticket Quantity\" type=\"number\" value={ticketQty} onChange={({ target }) => setTicketQty(target.value)} />\n        </form>\n        <ul className=\"ticket-create-form__eventtickets-container\">\n          <h1 className=\"event-create-form__title\">Entered Tickets</h1>\n          {tickets && tickets.map((ticket, idx) => {\n            return (\n              <li key={`tickets-${ticket.name}-${ticket.quantity}`}>\n              <span>Type: {ticket.name} </span>\n              <span>Quanitity: {ticket.quantity}</span>\n              <div\n                className=\"button button--small button--warning\"\n                onClick={(e) => {\n                  e.preventDefault()\n                  e.stopPropagation()\n                  removeTicket(idx)\n                }}>Remove Ticket</div>\n            </li>\n            )\n          })}\n        </ul>\n      </div>\n      <div className=\"create-event__buttons-container\">\n        <div className=\"button button--warning\" onClick={() => history.replace('/')}>Cancel</div>\n        <div className=\"button \" onClick={lastPage}>Previous Step</div>\n        {ticketType && ticketQty && (<div className=\"button button--primary\" onClick={addTicket}>Add Ticket</div>)}\n        {!(ticketType && ticketQty) && (<div className=\"button button--primary button--disabled\" >Add Ticket</div>)}\n        {!sending && isComplete && <div className=\"button button--primary\"onClick={handleSubmit}>{(event && \"Update Event\") || \"Create Event\"}</div>}\n        {(sending || !isComplete) && <div className=\"button button--primary button--disabled\">{(event && \"Update Event\") || \"Create Event\"}</div>}\n      </div>\n    </>\n  )\n\n  const formSteps = [\n    EventDetailsForm,\n    EventImageForm,\n    EventDatesForm,\n    TicketCreateForm\n  ]\n\n  //change back to formSteps[step]\n  return (\n    <div className=\"new-event__form-container\">\n      <ul>\n        {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n      </ul>\n      {formSteps[step]}\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux'\n\nimport { fetch } from '../../store/csrf'\nimport { changeView } from '../../store/view';\n\nimport './CategoryBar.css'\n\n\n//returns an object of {r, g, b} if success, null if not. can take eithe '#a1b2c3' or 'a1b2c3'\nconst hexToRgb = (hex) => {\n  // Use regex to parse r, g, b into result\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null\n}\n\n// takes hex background color and gets luminence to determine font color\nconst getFontColor = (backgroundColor) => {\n  let color = hexToRgb(backgroundColor)\n\n  let tracker = {}\n  for (const key in color) {\n    let c = color[key]\n    c = c / 255\n    if (c <= 0.03928) {\n      tracker[key] = c / 12.92\n    } else {\n      tracker[key] = Math.pow(((c + 0.055) / 1.055), 2.4)\n    }\n  }\n  const L = tracker.r * 0.2126 + tracker.g * 0.7152 + tracker.b * 0.0722\n\n  return L > 0.179 ? '#000000' : '#ffffff'\n}\n\nfunction Category({ id, icon, title, color }) {\n  const dispatch = useDispatch()\n\n  const history = useHistory()\n\n  const fontColor = getFontColor(color)\n\n  const setView = (e) => {\n    dispatch(changeView(`CATEGORY:${id}`))\n\n    history.push('/')\n  }\n\n  return (\n    <div className=\"category-bar__category-wrapper\" onClick={setView}>\n      <div className=\"category-bar__category-bubble\" style={{ backgroundColor: color }}>\n        <i className={icon} style={{ color: fontColor }} />\n      </div>\n      <span className=\"category-bar__category-title\">{title}</span>\n    </div>\n  )\n}\n\n\nexport default function CategoryBar() {\n  const [categories, setCategories] = useState([])\n  const [catLoaded, setCatLoaded] = useState(false)\n\n  useEffect(() => {\n    (async () => {\n      let res = await fetch('/api/categories')\n      let categoriesJSON = res.data\n\n      setCategories(categoriesJSON)\n      setCatLoaded(true)\n    })()\n  }, [])\n\n  return (\n    <div className=\"category-bar\">\n      <h3 className=\"category-bar__title\">Categories</h3>\n      <div className=\"category-bar__categories\">\n        {catLoaded &&\n          categories.map(category => {\n            return (\n              <Category key={`category-${category.id}`} id={category.id} icon={category.icon} title={category.title} color={category.color} />\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { fetch } from '../../store/csrf'\n\nimport './TicketCard.css'\n\nexport default function TicketCard({ticketSale, alter}) {\n  const history = useHistory()\n\n  const ticket = ticketSale.Ticket;\n  const event = ticket.Event;\n\n  const refundOne = async (e) => {\n    e.stopPropagation()\n    await fetch(`/api/tickets/${ticketSale.ticketId}/one`, {\n      method: 'DELETE'\n    })\n    alter(true)\n  }\n\n  const refundAll = async (e) => {\n    e.stopPropagation()\n    await fetch(`/api/tickets/${ticketSale.ticketId}/all`, {\n      method: 'DELETE'\n    })\n    alter(true)\n  }\n\n  const eventDetails = () => {\n    history.push(`/events/${event.id}`)\n  }\n\n  return (\n    <div className=\"ticket-card__wrapper\" onClick={eventDetails}>\n      <div className=\"ticket-card__image-wrapper\">\n        <img src={event.eventPicURL} alt=\"\"/>\n      </div>\n      <div className=\"ticket-card__details\">\n        <h1 className=\"ticket-card__title\">\n          <span className=\"ticket-card__title-bold\">\n            {'Event: '}\n          </span>\n          {event.title}\n        </h1>\n        <h2 className=\"ticket-card__ticket-name\">\n          <span className=\"ticket-card__title-bold\">\n            {'Ticket Type: '}\n          </span>\n          {ticket.name}\n        </h2>\n        <h3 className=\"ticket-card__owned\">\n          <span className=\"ticket-card__title-bold\">\n            {'Quantity Owned: '}\n          </span>\n          {ticketSale.count}\n        </h3>\n        <div className=\"ticket-card__buttons-container\">\n          <div className=\"button button button--primary\" onClick={refundOne}>Refund One Ticket</div>\n          <div className=\"button button button--warning\" onClick={refundAll}>Refund All Tickets</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, {useEffect, useState} from 'react'\n\nimport { useSelector } from 'react-redux'\n\nimport TicketCard from './TicketCard'\n\nimport { fetch } from '../../store/csrf'\n\nexport default function TicketsDisplay() {\n\n  const sessionUser = useSelector(state => state.session.user)\n\n  const [tickets, setTickets] = useState([]);\n  const [altered, setAltered] = useState(false);\n\n  useEffect(() => {\n\n    (async () => {\n      let ticketsJSON = await fetch(`/api/tickets`)\n      ticketsJSON = ticketsJSON.data\n\n      let data = ticketsJSON.reduce((acc, ticket) => {\n        if (acc[ticket.ticketId]) {\n          acc[ticket.ticketId].count ++\n          return acc\n        } else {\n          return {...acc, [ticket.ticketId]: {...ticket, count: 1}}\n        }\n      }, {})\n\n      setTickets(Object.values(data))\n      setAltered(false)\n    })();\n  }, [sessionUser, altered])\n\n  return (\n    <div>\n      {!sessionUser && <div className=\"message\"> Please Log In to view your tickets! </div>}\n\n      {sessionUser && (\n        <>\n          <div className=\"event-display-title\">Your Tickets:</div>\n            {tickets && tickets.map( (ticket, idx) => {\n              return <TicketCard key={ticket.id} ticketSale={ticket} alter={setAltered}/>\n          })}\n          {tickets.length === 0 && (\n            <div className=\"message\">\n              Your tickets are empty! Go make some reservations!\n            </div>\n          )}\n          </>\n      )}\n\n\n\n\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, connect } from 'react-redux'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Navigation from './components/Navigation';\nimport EventDisplay from './components/EventDisplay';\nimport EventDetails from './components/EventDetails';\nimport NewEventForm from './components/NewEventForm';\nimport CategoryBar from './components/CategoryBar';\nimport TicketsDisplay from './components/TicketsDisplay';\n\nimport { restoreUser } from './store/session';\nimport { loadMoreEvents } from './store/event';\n\nfunction App({view}) {\n  const dispatch = useDispatch()\n\n  const [isLoaded, setIsLoaded] = useState(false)\n\n  useEffect(() => {\n    dispatch(restoreUser())\n      .then(() => dispatch(loadMoreEvents(0, 10, view)))\n      .then(() => setIsLoaded(true))\n  }, [dispatch])\n\n\n  /*\n\n  Base level components\n  - NavBar - Navigation links for home (logo), search, login, signup, and profile options\n  - CatBar - Navigation links for categories, a list of category icons and titles\n  - Events Display - The main content of the page.\n    - All Events View\n    - Search Events View\n    - Category Events View\n    - Create Event View\n    - Tickets View\n\n\n  */\n  return (\n    <div className=\"main-wrapper\">\n      <Navigation isLoaded={isLoaded} />\n      <CategoryBar isLoaded={isLoaded} />\n\n      <div className=\"main-content-wrapper\">\n        {isLoaded && (\n\n          <Switch>\n            <Route path=\"/events/:eventId/edit\"><NewEventForm /></Route>\n            <Route path=\"/events/:id\"> <EventDetails /></Route>\n            <Route path=\"/new-event\"> <NewEventForm /> </Route>\n            <Route path=\"/my-tickets\"><TicketsDisplay /></Route>\n            <Route path=\"/my-events\"><EventDisplay myEvents={true} /></Route>\n            <Route path=\"/\"> <EventDisplay myEvents={false} /> </Route>\n          </Switch>\n\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({ events: state.events, view: state.view })\n\n\nexport default connect(mapStateToProps)(App);\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport sessionReducer from './session'\nimport eventReducer from './event'\nimport viewReducer from './view'\n\nconst rootReducer = combineReducers({\n  session: sessionReducer,\n  events: eventReducer,\n  view: viewReducer,\n})\n\nlet enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk)\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n}\n\nexport default configureStore\n","import React from 'react';\n\nimport './reset.css';\nimport './index.css';\n\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ModalProvider } from './context/Modal'\nimport App from './App';\n\nimport { restoreCSRF, fetch } from './store/csrf'\n\nimport configureStore from './store';\n\nimport * as eventActions from './store/event'\nimport * as sessionActions from './store/session'\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== \"production\") {\n  restoreCSRF();\n\n  window.csrfFetch = fetch;\n  window.store = store\n  window.eventActions = eventActions\n  window.sessionActions = sessionActions\n}\n\nfunction Root() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <ModalProvider>\n          <App />\n        </ModalProvider>\n      </BrowserRouter>\n    </Provider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}